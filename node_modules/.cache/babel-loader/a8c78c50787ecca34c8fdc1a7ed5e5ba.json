{"ast":null,"code":"import _classCallCheck from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/main/pages/calendar/CalendarApp.js\";\nimport moment from 'moment';\nimport classNames from 'classnames';\nimport * as ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport BigCalendar from 'react-big-calendar';\nimport withReducer from 'app/store/withReducer';\nimport { FusePageSimple, FuseAnimate } from '@fuse';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport 'react-big-calendar/lib/addons/dragAndDrop/styles.css';\nimport { withStyles, Fab, Icon, Typography } from '@material-ui/core';\nimport withDragAndDrop from 'react-big-calendar/lib/addons/dragAndDrop';\nimport reducer from './store/reducers';\nimport EventDialog from './EventDialog';\nimport * as Actions from './store/actions';\nimport CalendarHeader from './CalendarHeader';\nvar localizer = BigCalendar.momentLocalizer(moment);\nvar DragAndDropCalendar = withDragAndDrop(BigCalendar);\nvar allViews = Object.keys(BigCalendar.Views).map(function (k) {\n  return BigCalendar.Views[k];\n});\nvar customViews = [BigCalendar.Views.MONTH, BigCalendar.Views.AGENDA];\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      '& .rbc-header': {\n        padding: '12px 6px',\n        fontWeight: 600,\n        fontSize: 14\n      },\n      '& .rbc-label': {\n        padding: '8px 6px'\n      },\n      '& .rbc-today': {\n        backgroundColor: 'transparent'\n      },\n      '& .rbc-header.rbc-today, & .rbc-month-view .rbc-day-bg.rbc-today': {\n        borderBottom: '2px solid ' + theme.palette.secondary.main + '!important'\n      },\n      '& .rbc-month-view, & .rbc-time-view, & .rbc-agenda-view': _objectSpread(_defineProperty({\n        padding: 24\n      }, theme.breakpoints.down('sm'), {\n        padding: 16\n      }), theme.mixins.border(0)),\n      '& .rbc-agenda-view table': _objectSpread({}, theme.mixins.border(1), {\n        '& thead > tr > th': _objectSpread({}, theme.mixins.borderBottom(0)),\n        '& tbody > tr > td': {\n          padding: '12px 6px',\n          '& + td': _objectSpread({}, theme.mixins.borderLeft(1))\n        }\n      }),\n      '& .rbc-time-view': {\n        '& .rbc-time-header': _objectSpread({}, theme.mixins.border(1)),\n        '& .rbc-time-content': _objectSpread({\n          flex: '0 1 auto'\n        }, theme.mixins.border(1))\n      },\n      '& .rbc-month-view': {\n        '& > .rbc-row': _objectSpread({}, theme.mixins.border(1)),\n        '& .rbc-month-row': _objectSpread({}, theme.mixins.border(1), {\n          borderWidth: '0 1px 1px 1px!important',\n          minHeight: 128\n        }),\n        '& .rbc-header + .rbc-header': _objectSpread({}, theme.mixins.borderLeft(1)),\n        '& .rbc-header': _objectSpread({}, theme.mixins.borderBottom(0)),\n        '& .rbc-day-bg + .rbc-day-bg': _objectSpread({}, theme.mixins.borderLeft(1))\n      },\n      '& .rbc-day-slot .rbc-time-slot': _objectSpread({}, theme.mixins.borderTop(1), {\n        opacity: 0.5\n      }),\n      '& .rbc-time-header > .rbc-row > * + *': _objectSpread({}, theme.mixins.borderLeft(1)),\n      '& .rbc-time-content > * + * > *': _objectSpread({}, theme.mixins.borderLeft(1)),\n      '& .rbc-day-bg + .rbc-day-bg': _objectSpread({}, theme.mixins.borderLeft(1)),\n      '& .rbc-time-header > .rbc-row:first-child': _objectSpread({}, theme.mixins.borderBottom(1)),\n      '& .rbc-timeslot-group': _objectSpread({\n        minHeight: 64\n      }, theme.mixins.borderBottom(1)),\n      '& .rbc-date-cell': {\n        padding: 8,\n        fontSize: 16,\n        fontWeight: 400,\n        opacity: 0.5,\n        '& > a': {\n          color: 'inherit'\n        }\n      },\n      '& .rbc-event': {\n        borderRadius: 4,\n        padding: '4px 8px',\n        backgroundColor: theme.palette.primary.dark,\n        color: theme.palette.primary.contrastText,\n        boxShadow: theme.shadows[0],\n        transitionProperty: 'box-shadow',\n        transitionDuration: theme.transitions.duration.short,\n        transitionTimingFunction: theme.transitions.easing.easeInOut,\n        position: 'relative',\n        '&:hover': {\n          boxShadow: theme.shadows[2]\n        }\n      },\n      '& .rbc-row-segment': {\n        padding: '0 4px 4px 4px'\n      },\n      '& .rbc-off-range-bg': {\n        backgroundColor: theme.palette.type === 'light' ? 'rgba(0,0,0,0.03)' : 'rgba(0,0,0,0.16)'\n      },\n      '& .rbc-show-more': {\n        color: theme.palette.secondary.main,\n        background: 'transparent'\n      },\n      '& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event': {\n        position: 'static'\n      },\n      '& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:first-child': {\n        left: 0,\n        top: 0,\n        bottom: 0,\n        height: 'auto'\n      },\n      '& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:last-child': {\n        right: 0,\n        top: 0,\n        bottom: 0,\n        height: 'auto'\n      }\n    },\n    addButton: {\n      position: 'absolute',\n      right: 12,\n      top: 172,\n      zIndex: 99\n    }\n  };\n};\n\nvar CalendarApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CalendarApp, _Component);\n\n  function CalendarApp(props) {\n    var _this;\n\n    _classCallCheck(this, CalendarApp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CalendarApp).call(this, props));\n\n    _this.moveEvent = function (_ref) {\n      var event = _ref.event,\n          start = _ref.start,\n          end = _ref.end;\n\n      _this.props.updateEvent(_objectSpread({}, event, {\n        start: start,\n        end: end\n      }));\n    };\n\n    _this.resizeEvent = function (_ref2) {\n      var event = _ref2.event,\n          start = _ref2.start,\n          end = _ref2.end;\n      delete event.type;\n\n      _this.props.updateEvent(_objectSpread({}, event, {\n        start: start,\n        end: end\n      }));\n    };\n\n    _this.headerEl = React.createRef();\n    return _this;\n  }\n\n  _createClass(CalendarApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getEvents();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          events = _this$props.events,\n          openNewEventDialog = _this$props.openNewEventDialog,\n          openEditEventDialog = _this$props.openEditEventDialog;\n      return React.createElement(FusePageSimple, {\n        classes: {\n          header: 'min-h-72 h-72 sm:h-136 sm:min-h-136',\n          toolbar: 'px-16 sm:px-24'\n        },\n        header: React.createElement(\"div\", {\n          className: \"flex flex-1 items-center justify-between p-8 sm:p-24\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"flex flex-1 flex-col items-center justify-center md:flex-row md:items-center md:justify-start\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, React.createElement(FuseAnimate, {\n          animation: \"transition.slideLeftIn\",\n          delay: 300,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          className: \"md:ml-24\",\n          variant: \"h4\",\n          color: \"inherit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, \"Calendar\")))),\n        content: React.createElement(\"div\", {\n          className: classNames(classes.root, 'flex flex-col flex-auto relative', 'col-sm-6 col-lg-6'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          ref: this.headerEl,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }), React.createElement(DragAndDropCalendar, {\n          className: \"flex flex-1 container\",\n          selectable: true,\n          localizer: localizer,\n          events: events,\n          onEventDrop: this.moveEvent,\n          resizable: true,\n          onEventResize: this.resizeEvent,\n          defaultView: BigCalendar.Views.AGENDA,\n          defaultDate: new Date(),\n          startAccessor: \"start\",\n          endAccessor: \"end\",\n          views: customViews,\n          step: 60,\n          showMultiDayTimes: true,\n          components: {\n            toolbar: function toolbar(props) {\n              return _this2.headerEl.current ? ReactDOM.createPortal(React.createElement(CalendarHeader, Object.assign({}, props, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 235\n                },\n                __self: this\n              })), _this2.headerEl.current) : null;\n            }\n          } // onNavigate={this.handleNavigate}\n          ,\n          onSelectEvent: function onSelectEvent(event) {\n            openEditEventDialog(event);\n          },\n          onSelectSlot: function onSelectSlot(slotInfo) {\n            return openNewEventDialog({\n              start: slotInfo.start.toLocaleString(),\n              end: slotInfo.end.toLocaleString()\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }), React.createElement(FuseAnimate, {\n          animation: \"transition.expandIn\",\n          delay: 500,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          },\n          __self: this\n        }, React.createElement(Fab, {\n          color: \"secondary\",\n          \"aria-label\": \"add\",\n          className: classes.addButton,\n          onClick: function onClick() {\n            return openNewEventDialog({\n              start: new Date(),\n              end: new Date()\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }, \"add\"))), React.createElement(EventDialog, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return CalendarApp;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getEvents: Actions.getEvents,\n    openNewEventDialog: Actions.openNewEventDialog,\n    openEditEventDialog: Actions.openEditEventDialog,\n    updateEvent: Actions.updateEvent\n  }, dispatch);\n}\n\nfunction mapStateToProps(_ref3) {\n  var calendarApp = _ref3.calendarApp;\n  return {\n    events: calendarApp.events.entities\n  };\n}\n\nexport default withReducer('calendarApp', reducer)(withStyles(styles, {\n  withTheme: true\n})(connect(mapStateToProps, mapDispatchToProps)(CalendarApp)));","map":{"version":3,"sources":["/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/main/pages/calendar/CalendarApp.js"],"names":["moment","classNames","ReactDOM","connect","React","Component","bindActionCreators","BigCalendar","withReducer","FusePageSimple","FuseAnimate","withStyles","Fab","Icon","Typography","withDragAndDrop","reducer","EventDialog","Actions","CalendarHeader","localizer","momentLocalizer","DragAndDropCalendar","allViews","Object","keys","Views","map","k","customViews","MONTH","AGENDA","styles","theme","root","padding","fontWeight","fontSize","backgroundColor","borderBottom","palette","secondary","main","breakpoints","down","mixins","border","borderLeft","flex","borderWidth","minHeight","borderTop","opacity","color","borderRadius","primary","dark","contrastText","boxShadow","shadows","transitionProperty","transitionDuration","transitions","duration","short","transitionTimingFunction","easing","easeInOut","position","type","background","left","top","bottom","height","right","addButton","zIndex","CalendarApp","props","moveEvent","event","start","end","updateEvent","resizeEvent","headerEl","createRef","getEvents","classes","events","openNewEventDialog","openEditEventDialog","header","toolbar","Date","current","createPortal","slotInfo","toLocaleString","mapDispatchToProps","dispatch","mapStateToProps","calendarApp","entities","withTheme"],"mappings":"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","sourcesContent":["import moment from 'moment';\nimport classNames from 'classnames';\nimport * as ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport BigCalendar from 'react-big-calendar';\nimport withReducer from 'app/store/withReducer';\nimport { FusePageSimple, FuseAnimate } from '@fuse';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport 'react-big-calendar/lib/addons/dragAndDrop/styles.css';\nimport { withStyles, Fab, Icon, Typography } from '@material-ui/core';\nimport withDragAndDrop from 'react-big-calendar/lib/addons/dragAndDrop';\n\nimport reducer from './store/reducers';\nimport EventDialog from './EventDialog';\nimport * as Actions from './store/actions';\nimport CalendarHeader from './CalendarHeader';\n\nconst localizer = BigCalendar.momentLocalizer(moment);\n\nconst DragAndDropCalendar = withDragAndDrop(BigCalendar);\n\nlet allViews = Object.keys(BigCalendar.Views).map(k => BigCalendar.Views[k]);\n\nlet customViews = [ BigCalendar.Views.MONTH, BigCalendar.Views.AGENDA];\n\nconst styles = theme => ({\n  root: {\n    '& .rbc-header': {\n      padding: '12px 6px',\n      fontWeight: 600,\n      fontSize: 14\n    },\n    '& .rbc-label': {\n      padding: '8px 6px'\n    },\n    '& .rbc-today': {\n      backgroundColor: 'transparent'\n    },\n    '& .rbc-header.rbc-today, & .rbc-month-view .rbc-day-bg.rbc-today': {\n      borderBottom: '2px solid ' + theme.palette.secondary.main + '!important'\n    },\n    '& .rbc-month-view, & .rbc-time-view, & .rbc-agenda-view': {\n      padding: 24,\n      [theme.breakpoints.down('sm')]: {\n        padding: 16\n      },\n      ...theme.mixins.border(0)\n    },\n    '& .rbc-agenda-view table': {\n      ...theme.mixins.border(1),\n      '& thead > tr > th': {\n        ...theme.mixins.borderBottom(0)\n      },\n      '& tbody > tr > td': {\n        padding: '12px 6px',\n        '& + td': {\n          ...theme.mixins.borderLeft(1)\n        }\n      }\n    },\n    '& .rbc-time-view': {\n      '& .rbc-time-header': {\n        ...theme.mixins.border(1)\n      },\n      '& .rbc-time-content': {\n        flex: '0 1 auto',\n        ...theme.mixins.border(1)\n      }\n    },\n    '& .rbc-month-view': {\n      '& > .rbc-row': {\n        ...theme.mixins.border(1)\n      },\n      '& .rbc-month-row': {\n        ...theme.mixins.border(1),\n        borderWidth: '0 1px 1px 1px!important',\n        minHeight: 128\n      },\n      '& .rbc-header + .rbc-header': {\n        ...theme.mixins.borderLeft(1)\n      },\n      '& .rbc-header': {\n        ...theme.mixins.borderBottom(0)\n      },\n      '& .rbc-day-bg + .rbc-day-bg': {\n        ...theme.mixins.borderLeft(1)\n      }\n    },\n    '& .rbc-day-slot .rbc-time-slot': {\n      ...theme.mixins.borderTop(1),\n      opacity: 0.5\n    },\n    '& .rbc-time-header > .rbc-row > * + *': {\n      ...theme.mixins.borderLeft(1)\n    },\n    '& .rbc-time-content > * + * > *': {\n      ...theme.mixins.borderLeft(1)\n    },\n    '& .rbc-day-bg + .rbc-day-bg': {\n      ...theme.mixins.borderLeft(1)\n    },\n    '& .rbc-time-header > .rbc-row:first-child': {\n      ...theme.mixins.borderBottom(1)\n    },\n    '& .rbc-timeslot-group': {\n      minHeight: 64,\n      ...theme.mixins.borderBottom(1)\n    },\n    '& .rbc-date-cell': {\n      padding: 8,\n      fontSize: 16,\n      fontWeight: 400,\n      opacity: 0.5,\n      '& > a': {\n        color: 'inherit'\n      }\n    },\n    '& .rbc-event': {\n      borderRadius: 4,\n      padding: '4px 8px',\n      backgroundColor: theme.palette.primary.dark,\n      color: theme.palette.primary.contrastText,\n      boxShadow: theme.shadows[0],\n      transitionProperty: 'box-shadow',\n      transitionDuration: theme.transitions.duration.short,\n      transitionTimingFunction: theme.transitions.easing.easeInOut,\n      position: 'relative',\n      '&:hover': {\n        boxShadow: theme.shadows[2]\n      }\n    },\n    '& .rbc-row-segment': {\n      padding: '0 4px 4px 4px'\n    },\n    '& .rbc-off-range-bg': {\n      backgroundColor: theme.palette.type === 'light' ? 'rgba(0,0,0,0.03)' : 'rgba(0,0,0,0.16)'\n    },\n    '& .rbc-show-more': {\n      color: theme.palette.secondary.main,\n      background: 'transparent'\n    },\n    '& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event': {\n      position: 'static'\n    },\n    '& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:first-child': {\n      left: 0,\n      top: 0,\n      bottom: 0,\n      height: 'auto'\n    },\n    '& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:last-child': {\n      right: 0,\n      top: 0,\n      bottom: 0,\n      height: 'auto'\n    }\n  },\n  addButton: {\n    position: 'absolute',\n    right: 12,\n    top: 172,\n    zIndex: 99\n  }\n});\n\nclass CalendarApp extends Component {\n  constructor(props) {\n    super(props);\n    this.headerEl = React.createRef();\n  }\n\n  componentDidMount() {\n    this.props.getEvents();\n  }\n\n  moveEvent = ({ event, start, end }) => {\n    this.props.updateEvent({\n      ...event,\n      start,\n      end\n    });\n  };\n\n  resizeEvent = ({ event, start, end }) => {\n    delete event.type;\n    this.props.updateEvent({\n      ...event,\n      start,\n      end\n    });\n  };\n\n  render() {\n    const { classes, events, openNewEventDialog, openEditEventDialog } = this.props;\n    return (\n      <FusePageSimple\n        classes={{\n          header: 'min-h-72 h-72 sm:h-136 sm:min-h-136',\n          toolbar: 'px-16 sm:px-24'\n        }}\n        header={\n          <div className=\"flex flex-1 items-center justify-between p-8 sm:p-24\">\n            <div className=\"flex flex-1 flex-col items-center justify-center md:flex-row md:items-center md:justify-start\">\n              <FuseAnimate animation=\"transition.slideLeftIn\" delay={300}>\n                <Typography className=\"md:ml-24\" variant=\"h4\" color=\"inherit\">\n                  Calendar\n                </Typography>\n              </FuseAnimate>\n            </div>\n          </div>\n        }\n        content={\n          <div className={classNames(classes.root, 'flex flex-col flex-auto relative', 'col-sm-6 col-lg-6')}>\n            <div ref={this.headerEl} />\n            <DragAndDropCalendar\n              className=\"flex flex-1 container\"\n              selectable\n              localizer={localizer}\n              events={events}\n              onEventDrop={this.moveEvent}\n              resizable\n              onEventResize={this.resizeEvent}\n              defaultView={BigCalendar.Views.AGENDA}\n              defaultDate={new Date()}\n              startAccessor=\"start\"\n              endAccessor=\"end\"\n              views={customViews}\n              step={60}\n              showMultiDayTimes\n              components={{\n                toolbar: props => {\n                  return this.headerEl.current\n                    ? ReactDOM.createPortal(<CalendarHeader {...props} />, this.headerEl.current)\n                    : null;\n                }\n              }}\n              // onNavigate={this.handleNavigate}\n              onSelectEvent={event => {\n                openEditEventDialog(event);\n              }}\n              onSelectSlot={slotInfo =>\n                openNewEventDialog({\n                  start: slotInfo.start.toLocaleString(),\n                  end: slotInfo.end.toLocaleString()\n                })\n              }\n            />\n            <FuseAnimate animation=\"transition.expandIn\" delay={500}>\n              <Fab\n                color=\"secondary\"\n                aria-label=\"add\"\n                className={classes.addButton}\n                onClick={() =>\n                  openNewEventDialog({\n                    start: new Date(),\n                    end: new Date()\n                  })\n                }\n              >\n                <Icon>add</Icon>\n              </Fab>\n            </FuseAnimate>\n            <EventDialog />\n          </div>\n      }\n      />\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      getEvents: Actions.getEvents,\n      openNewEventDialog: Actions.openNewEventDialog,\n      openEditEventDialog: Actions.openEditEventDialog,\n      updateEvent: Actions.updateEvent\n    },\n    dispatch\n  );\n}\n\nfunction mapStateToProps({ calendarApp }) {\n  return {\n    events: calendarApp.events.entities\n  };\n}\n\nexport default withReducer('calendarApp', reducer)(\n  withStyles(styles, { withTheme: true })(\n    connect(\n      mapStateToProps,\n      mapDispatchToProps\n    )(CalendarApp)\n  )\n);\n"]},"metadata":{},"sourceType":"module"}