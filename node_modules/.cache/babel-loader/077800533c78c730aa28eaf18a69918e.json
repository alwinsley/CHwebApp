{"ast":null,"code":"import _slicedToArray from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/main/pages/team-member/TeamMemberList.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { FusePageCarded } from '@fuse';\nimport withReducer from 'app/store/withReducer';\nimport TeamMemberHeader from './TeamMemberHeader';\nimport TeamMemberTable from './TeamMemberTable';\nimport reducer from './store/reducers';\nimport history from 'history.js';\nimport * as jwt_decode from \"jwt-decode\"; //----------get user data----------\n\nvar token = localStorage.getItem('token');\nvar decoded = []; //----------Api config ---------\n\nvar api_host = \"http://localhost:8080\";\nvar headers = new Headers();\nheaders.append('Access-Control-Allow-Origin', 'http://localhost:8080');\nheaders.append('Access-Control-Allow-Credentials', 'true');\nheaders.append('Content-Type', 'application/json');\nheaders.append('authorization', 'Bearer ' + token);\n\nvar TeamMemberList = function TeamMemberList() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      initialized = _useState2[0],\n      setInitialized = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      team_member = _useState4[0],\n      setteam_member = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      team_name = _useState6[0],\n      setteam_name = _useState6[1];\n\n  var decoded = jwt_decode(token);\n  useEffect(function () {\n    if (!initialized) {\n      fetch(api_host + '/user/' + decoded.user.id + '/getTeam', {\n        method: 'GET',\n        headers: headers\n      }).then(function (response) {\n        response.json().then(function (data) {\n          console.log(data.teamInfo);\n\n          if (data.teamInfo.length > 0) {\n            fetch(api_host + '/team/getById/' + data.teamInfo[0].team_id, {\n              method: 'GET',\n              headers: headers\n            }).then(function (response) {\n              response.json().then(function (data) {\n                console.log(data); // team_member = data.members;\n\n                setteam_member(data.members);\n                setteam_name(data.teamInfo[0].name);\n              });\n            });\n          }\n        });\n      });\n    }\n  }, []);\n  console.log(team_member);\n  return React.createElement(FusePageCarded, {\n    classes: {\n      content: 'flex',\n      header: 'min-h-72 h-72 sm:h-136 sm:min-h-136',\n      toolbar: 'px-16 sm:px-24'\n    },\n    header: React.createElement(TeamMemberHeader, {\n      team_name: team_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }),\n    content: React.createElement(TeamMemberTable, {\n      team_member: team_member,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }),\n    innerScroll: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  });\n};\n\nexport default withReducer('eCommerceApp', reducer)(TeamMemberList);","map":{"version":3,"sources":["/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/main/pages/team-member/TeamMemberList.js"],"names":["React","useState","useEffect","FusePageCarded","withReducer","TeamMemberHeader","TeamMemberTable","reducer","history","jwt_decode","token","localStorage","getItem","decoded","api_host","headers","Headers","append","TeamMemberList","initialized","setInitialized","team_member","setteam_member","team_name","setteam_name","fetch","user","id","method","then","response","json","data","console","log","teamInfo","length","team_id","members","name","content","header","toolbar"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { FusePageCarded } from '@fuse';\nimport withReducer from 'app/store/withReducer';\nimport TeamMemberHeader from './TeamMemberHeader';\nimport TeamMemberTable from './TeamMemberTable';\nimport reducer from './store/reducers';\nimport history from 'history.js';\n\nimport * as jwt_decode from \"jwt-decode\";\n\n\n//----------get user data----------\nvar token = localStorage.getItem('token');\nvar decoded = [];\n\n//----------Api config ---------\nconst api_host = \"http://localhost:8080\";\n\nlet headers = new Headers();\n\nheaders.append('Access-Control-Allow-Origin', 'http://localhost:8080');\nheaders.append('Access-Control-Allow-Credentials', 'true');\nheaders.append('Content-Type', 'application/json');\nheaders.append('authorization', 'Bearer ' + token);\n\n\nconst TeamMemberList = () => {\n  const [initialized, setInitialized] = useState(false);\n  const [team_member, setteam_member] = useState([]);\n  const [team_name, setteam_name] = useState(\"\");\n\n  var decoded = jwt_decode(token);\n\n  useEffect(() => {\n    if (!initialized) {\n      fetch(api_host + '/user/'+decoded.user.id+'/getTeam', {\n        method: 'GET',\n        headers: headers\n      })\n      .then(response => {    \n    \n        response.json().then(data => {\n          console.log(data.teamInfo);\n    \n          if(data.teamInfo.length > 0){\n            fetch(api_host + '/team/getById/'+data.teamInfo[0].team_id, {\n              method: 'GET',\n              headers: headers\n            }).then(response => {\n    \n              response.json().then(data => {\n                console.log(data);\n                // team_member = data.members;\n                setteam_member(data.members);\n                setteam_name(data.teamInfo[0].name)\n              })\n            });\n          }\n        })\n      });\n    }\n  }, []);\n\n\n  \n  console.log(team_member);\n  return (\n    <FusePageCarded\n      classes={{\n        content: 'flex',\n        header: 'min-h-72 h-72 sm:h-136 sm:min-h-136',\n        toolbar: 'px-16 sm:px-24'\n      }}\n      header={<TeamMemberHeader team_name={team_name}/>}\n      content={<TeamMemberTable team_member={team_member}/>}\n      innerScroll\n    />\n  );\n};\n\nexport default withReducer('eCommerceApp', reducer)(TeamMemberList);\n"]},"metadata":{},"sourceType":"module"}