{"ast":null,"code":"import _classCallCheck from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/main/pages/songs/SongMedia.js\";\nimport { Link } from 'react-router-dom';\nimport React, { Component } from 'react';\nimport { FuseAnimateGroup } from '@fuse';\nimport { Card, Typography, Button } from '@material-ui/core';\nimport { FusePageSimple, FuseAnimate } from '@fuse';\nimport * as jwt_decode from \"jwt-decode\";\nimport history from 'history.js'; //----------get user data----------\n\nvar token = localStorage.getItem('token');\nvar decoded = []; //----------Api config ---------\n\nvar api_host = \"http://localhost:8080\";\nvar headers = new Headers();\nheaders.append('Access-Control-Allow-Origin', 'http://localhost:8080');\nheaders.append('Access-Control-Allow-Credentials', 'true');\nheaders.append('Content-Type', 'application/json');\nheaders.append('authorization', 'Bearer ' + token);\n\nvar SongMedia =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SongMedia, _Component);\n\n  function SongMedia() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SongMedia);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SongMedia)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      path: '',\n      song_id: 0,\n      media_id: 0,\n      song_name: ''\n    };\n    return _this;\n  }\n\n  _createClass(SongMedia, [{\n    key: \"readMediaDetail\",\n    value: function readMediaDetail(mid) {\n      var _this2 = this;\n\n      fetch(api_host + '/media/getByID/' + mid, {\n        method: 'GET',\n        headers: headers\n      }).then(function (response) {\n        response.json().then(function (data) {\n          console.log(data);\n\n          if (data.length != 0) {\n            _this2.setState({\n              path: data.data[0].path\n            });\n          }\n\n          console.log(_this2.state);\n        });\n      });\n    }\n  }, {\n    key: \"readSong\",\n    value: function readSong(id) {\n      var _this3 = this;\n\n      this.setState({\n        song_name: ''\n      });\n      fetch(api_host + '/song/getByID/' + id, {\n        method: 'GET',\n        headers: headers\n      }).then(function (response) {\n        response.json().then(function (data) {\n          console.log(data);\n\n          if (data.length > 0) {\n            _this3.setState({\n              song_name: data[0].name\n            });\n          }\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props$match$par = this.props.match.params,\n          sid = _this$props$match$par.sid,\n          mid = _this$props$match$par.mid;\n      this.setState({\n        song_id: sid,\n        media_id: mid\n      });\n\n      if (token != null && token != \"\") {\n        decoded = jwt_decode(token);\n        this.readMediaDetail(mid);\n        this.readSong(sid);\n      } else {\n        history.push('/login');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          path = _this$state.path,\n          song_name = _this$state.song_name;\n      return React.createElement(FusePageSimple, {\n        classes: {\n          header: 'min-h-72 h-72 sm:h-136 sm:min-h-136',\n          toolbar: 'px-16 sm:px-24'\n        },\n        header: React.createElement(\"div\", {\n          className: \"flex flex-1 items-center justify-between p-8 sm:p-24\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"flex flex-1 flex-col items-center justify-center md:flex-row md:items-center md:justify-start\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(FuseAnimate, {\n          animation: \"transition.slideLeftIn\",\n          delay: 300,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          className: \"md:ml-24\",\n          variant: \"h4\",\n          color: \"inherit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, \"Song Media : \", song_name)))),\n        content: React.createElement(\"div\", {\n          className: \"p-16 sm:p-24 flex flex-col items-center justify-center w-full\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(Button, {\n          to: \"/songs/details/\" + this.state.song_id,\n          component: Link,\n          className: \"justify-start px-32\",\n          color: \"secondary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, \"Back\"), React.createElement(\"div\", {\n          className: \"flex p-24 w-full max-w-2xl mx-auto\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"flex flex-col flex-1 md:pr-32\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(FuseAnimateGroup, {\n          enter: {\n            animation: 'transition.slideUpBigIn'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, React.createElement(Card, {\n          className: \"w-full p-24 overflow-hidden\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"border-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"w-full border-b-1\",\n          src: api_host + '/' + path,\n          alt: \"media\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        })))))), React.createElement(Button, {\n          to: \"/songs/details/\" + this.state.song_id,\n          component: Link,\n          className: \"justify-start px-32\",\n          color: \"secondary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, \"Back\")),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return SongMedia;\n}(Component);\n\nexport default SongMedia;","map":{"version":3,"sources":["/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/main/pages/songs/SongMedia.js"],"names":["Link","React","Component","FuseAnimateGroup","Card","Typography","Button","FusePageSimple","FuseAnimate","jwt_decode","history","token","localStorage","getItem","decoded","api_host","headers","Headers","append","SongMedia","state","path","song_id","media_id","song_name","mid","fetch","method","then","response","json","data","console","log","length","setState","id","name","props","match","params","sid","readMediaDetail","readSong","push","header","toolbar","animation"],"mappings":"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","sourcesContent":["import { Link } from 'react-router-dom';\nimport React, { Component } from 'react';\nimport { FuseAnimateGroup } from '@fuse';\nimport { Card, Typography, Button } from '@material-ui/core';\nimport { FusePageSimple, FuseAnimate } from '@fuse';\nimport * as jwt_decode from \"jwt-decode\";\nimport history from 'history.js';\n\n\n//----------get user data----------\nvar token = localStorage.getItem('token');\nvar decoded = [];\n\n//----------Api config ---------\nconst api_host = \"http://localhost:8080\";\n\nlet headers = new Headers();\n\nheaders.append('Access-Control-Allow-Origin', 'http://localhost:8080');\nheaders.append('Access-Control-Allow-Credentials', 'true');\nheaders.append('Content-Type', 'application/json');\nheaders.append('authorization', 'Bearer ' + token);\n\n\nclass SongMedia extends Component {\n  state = {\n    path: '',\n    song_id: 0,\n    media_id: 0,\n    song_name: '',\n  };\n\n  readMediaDetail(mid) {\n    fetch(api_host + '/media/getByID/' + mid, {\n      method: 'GET',\n      headers: headers,\n    })\n      .then(response => {\n        response.json().then(data => {\n          console.log(data);\n          if (data.length != 0) {\n            this.setState({\n              path: data.data[0].path,\n            });\n          }\n          console.log(this.state);\n        });\n      });\n  }\n\n  readSong(id) {\n    this.setState({\n      song_name: '',\n    });\n\n    fetch(api_host + '/song/getByID/' + id, {\n      method: 'GET',\n      headers: headers,\n    })\n      .then(response => {\n        response.json().then(data => {\n          console.log(data);\n          if (data.length > 0) {\n            this.setState({\n              song_name: data[0].name,\n            });\n          }\n        });\n      });\n  }\n\n  componentDidMount() {\n    const { sid, mid } = this.props.match.params;\n    this.setState({ song_id: sid, media_id: mid });\n\n    if (token != null && token != \"\") {\n      decoded = jwt_decode(token);\n      this.readMediaDetail(mid);\n      this.readSong(sid);\n    } else {\n      history.push('/login');\n    }\n  }\n\n  render() {\n    const { path, song_name } = this.state;\n    return (\n      <FusePageSimple\n        classes={{\n          header: 'min-h-72 h-72 sm:h-136 sm:min-h-136',\n          toolbar: 'px-16 sm:px-24'\n        }}\n        header={\n          <div className=\"flex flex-1 items-center justify-between p-8 sm:p-24\">\n            <div className=\"flex flex-1 flex-col items-center justify-center md:flex-row md:items-center md:justify-start\">\n              <FuseAnimate animation=\"transition.slideLeftIn\" delay={300}>\n                <Typography className=\"md:ml-24\" variant=\"h4\" color=\"inherit\">\n                  Song Media : {song_name}\n                </Typography>\n              </FuseAnimate>\n            </div>\n          </div>\n        }\n        content={\n          <div className=\"p-16 sm:p-24 flex flex-col items-center justify-center w-full\">\n            <Button to={`/songs/details/` + this.state.song_id} component={Link} className=\"justify-start px-32\" color=\"secondary\">\n              Back\n            </Button>\n            <div className=\"flex p-24 w-full max-w-2xl mx-auto\">\n              <div className=\"flex flex-col flex-1 md:pr-32\">\n                <FuseAnimateGroup\n                  enter={{\n                    animation: 'transition.slideUpBigIn'\n                  }}\n                >\n                  <Card className=\"w-full p-24 overflow-hidden\">\n                    <div className=\"border-1\">\n                      <img\n                        className=\"w-full border-b-1\"\n                        src={api_host + '/' + path}\n                        alt=\"media\"\n                      />\n                    </div>\n                  </Card>\n                </FuseAnimateGroup>\n              </div>\n            </div>\n            <Button to={`/songs/details/` + this.state.song_id} component={Link} className=\"justify-start px-32\" color=\"secondary\">\n              Back\n            </Button>\n          </div>\n        }\n      />\n    );\n  }\n}\n\nexport default SongMedia;\n"]},"metadata":{},"sourceType":"module"}