{"ast":null,"code":"import _classCallCheck from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/main/pages/team-member/TeamMemberTable.js\";\nimport _ from '@lodash';\nimport { FuseScrollbars } from '@fuse';\nimport React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport TeamMemberTableHead from './TeamMemberTableHead';\nimport * as Actions from './store/actions';\nimport { withRouter } from 'react-router-dom';\nimport connect from 'react-redux/es/connect/connect';\nimport { Table, TableBody, TableCell, TablePagination, TableRow, Button } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport * as jwt_decode from \"jwt-decode\";\nimport history from 'history.js'; //----------get user data----------\n\nvar token = localStorage.getItem('token');\nvar decoded = []; //----------Api config ---------\n\nvar api_host = \"http://localhost:8080\";\nvar headers = new Headers();\nheaders.append('Access-Control-Allow-Origin', 'http://localhost:8080');\nheaders.append('Access-Control-Allow-Credentials', 'true');\nheaders.append('Content-Type', 'application/json');\nheaders.append('authorization', 'Bearer ' + token);\nvar team_member = [{\n  'id': 0,\n  'name': 'User 1',\n  'position': 'Minister of Music'\n}, {\n  'id': 1,\n  'name': 'User 2',\n  'position': 'Singer'\n}, {\n  'id': 2,\n  'name': 'User 3',\n  'position': 'Piano Player'\n}, {\n  'id': 3,\n  'name': 'Alexa Winsley',\n  'position': 'Leader'\n}];\n\nvar TeamMemberTable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TeamMemberTable, _Component);\n\n  function TeamMemberTable() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TeamMemberTable);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TeamMemberTable)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      order: 'asc',\n      orderBy: null,\n      selected: [],\n      data: team_member,\n      page: 0,\n      rowsPerPage: 10\n    };\n\n    _this.getFilteredArray = function (data, searchText) {\n      if (searchText.length === 0) {\n        return data;\n      }\n\n      console.log(data);\n      return _.filter(data, function (item) {\n        return item.name.toLowerCase().includes(searchText.toLowerCase());\n      });\n    };\n\n    _this.handleRequestSort = function (event, property) {\n      var orderBy = property;\n      var order = 'desc';\n\n      if (_this.state.orderBy === property && _this.state.order === 'desc') {\n        order = 'asc';\n      }\n\n      _this.setState({\n        order: order,\n        orderBy: orderBy\n      });\n    };\n\n    _this.handleSelectAllClick = function (event) {\n      if (event.target.checked) {\n        _this.setState(function (state) {\n          return {\n            selected: _this.state.data.map(function (n) {\n              return n.id;\n            })\n          };\n        });\n\n        return;\n      }\n\n      _this.setState({\n        selected: []\n      });\n    };\n\n    _this.handleClick = function (item) {\n      _this.props.history.push('/profile');\n    };\n\n    _this.handleCheck = function (event, id) {\n      var selected = _this.state.selected;\n      var selectedIndex = selected.indexOf(id);\n      var newSelected = [];\n\n      if (selectedIndex === -1) {\n        newSelected = newSelected.concat(selected, id);\n      } else if (selectedIndex === 0) {\n        newSelected = newSelected.concat(selected.slice(1));\n      } else if (selectedIndex === selected.length - 1) {\n        newSelected = newSelected.concat(selected.slice(0, -1));\n      } else if (selectedIndex > 0) {\n        newSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n      }\n\n      _this.setState({\n        selected: newSelected\n      });\n    };\n\n    _this.handleChangePage = function (event, page) {\n      _this.setState({\n        page: page\n      });\n    };\n\n    _this.handleChangeRowsPerPage = function (event) {\n      _this.setState({\n        rowsPerPage: event.target.value\n      });\n    };\n\n    _this.isSelected = function (id) {\n      return _this.state.selected.indexOf(id) !== -1;\n    };\n\n    return _this;\n  }\n\n  _createClass(TeamMemberTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (token != null && token != \"\") {\n        decoded = jwt_decode(token);\n      } else {\n        history.push('/');\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!_.isEqual(this.props.products, prevProps.products) || !_.isEqual(this.props.searchText, prevProps.searchText)) {\n        var data = this.getFilteredArray(team_member, this.props.searchText);\n        this.setState({\n          data: data\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          order = _this$state.order,\n          orderBy = _this$state.orderBy,\n          selected = _this$state.selected,\n          rowsPerPage = _this$state.rowsPerPage,\n          page = _this$state.page; // console.log(this.state)\n\n      var data = this.props.team_member;\n      console.log(this.props);\n      return React.createElement(\"div\", {\n        className: \"w-full flex flex-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(FuseScrollbars, {\n        className: \"flex-grow overflow-x-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: \"min-w-xl\",\n        \"aria-labelledby\": \"tableTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(TeamMemberTableHead, {\n        numSelected: selected.length,\n        order: order,\n        orderBy: orderBy,\n        onSelectAllClick: this.handleSelectAllClick,\n        onRequestSort: this.handleRequestSort,\n        rowCount: data.length,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, _.orderBy(data, [function (o) {\n        switch (orderBy) {\n          case 'categories':\n            {\n              return o.categories[0];\n            }\n\n          default:\n            {\n              return o[orderBy];\n            }\n        }\n      }], [order]).slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(function (n) {\n        var isSelected = _this2.isSelected(n.id);\n\n        return React.createElement(TableRow, {\n          className: \"h-64 cursor-pointer\",\n          hover: true,\n          role: \"checkbox\",\n          \"aria-checked\": isSelected,\n          tabIndex: -1,\n          key: n.id,\n          selected: isSelected,\n          onClick: function onClick(e) {\n            return _this2.handleClick(e, n.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, n.username), React.createElement(TableCell, {\n          className: \"truncate\",\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, n.position), React.createElement(TableCell, {\n          className: \"truncate\",\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, React.createElement(Button, {\n          variant: \"contained\",\n          color: \"secondary\",\n          disabled: false,\n          \"aria-label\": \"Follow\",\n          component: Link,\n          to: \"/profile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, \"View\")));\n      })))), React.createElement(TablePagination, {\n        component: \"div\",\n        count: data.length,\n        rowsPerPage: rowsPerPage,\n        page: page,\n        backIconButtonProps: {\n          'aria-label': 'Previous Page'\n        },\n        nextIconButtonProps: {\n          'aria-label': 'Next Page'\n        },\n        onChangePage: this.handleChangePage,\n        onChangeRowsPerPage: this.handleChangeRowsPerPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return TeamMemberTable;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getProducts: Actions.getProducts\n  }, dispatch);\n}\n\nfunction mapStateToProps(_ref) {\n  var eCommerceApp = _ref.eCommerceApp;\n  return {\n    products: eCommerceApp.products.data,\n    searchText: eCommerceApp.products.searchText\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TeamMemberTable));","map":{"version":3,"sources":["/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/main/pages/team-member/TeamMemberTable.js"],"names":["_","FuseScrollbars","React","Component","bindActionCreators","TeamMemberTableHead","Actions","withRouter","connect","Table","TableBody","TableCell","TablePagination","TableRow","Button","Link","jwt_decode","history","token","localStorage","getItem","decoded","api_host","headers","Headers","append","team_member","TeamMemberTable","state","order","orderBy","selected","data","page","rowsPerPage","getFilteredArray","searchText","length","console","log","filter","item","name","toLowerCase","includes","handleRequestSort","event","property","setState","handleSelectAllClick","target","checked","map","n","id","handleClick","props","push","handleCheck","selectedIndex","indexOf","newSelected","concat","slice","handleChangePage","handleChangeRowsPerPage","value","isSelected","prevProps","prevState","isEqual","products","o","categories","e","username","position","mapDispatchToProps","dispatch","getProducts","mapStateToProps","eCommerceApp"],"mappings":"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","sourcesContent":["import _ from '@lodash';\nimport { FuseScrollbars } from '@fuse';\nimport React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport TeamMemberTableHead from './TeamMemberTableHead';\nimport * as Actions from './store/actions';\nimport { withRouter } from 'react-router-dom';\nimport connect from 'react-redux/es/connect/connect';\nimport { Table, TableBody, TableCell, TablePagination, TableRow, Button } from '@material-ui/core';\n\nimport { Link } from 'react-router-dom';\n\nimport * as jwt_decode from \"jwt-decode\";\nimport history from 'history.js';\n\n\n//----------get user data----------\nvar token = localStorage.getItem('token');\nvar decoded = [];\n\n//----------Api config ---------\nconst api_host = \"http://localhost:8080\";\n\nlet headers = new Headers();\n\nheaders.append('Access-Control-Allow-Origin', 'http://localhost:8080');\nheaders.append('Access-Control-Allow-Credentials', 'true');\nheaders.append('Content-Type', 'application/json');\nheaders.append('authorization', 'Bearer ' + token);\n\nvar team_member = [\n    { \n    'id': 0,\n    'name': 'User 1',\n    'position': 'Minister of Music',\n    },\n    { \n    'id': 1,\n    'name': 'User 2',\n    'position': 'Singer',\n    },\n    { \n    'id': 2,\n    'name': 'User 3',\n    'position': 'Piano Player',\n    },\n    { \n    'id': 3,\n    'name': 'Alexa Winsley',\n    'position': 'Leader',\n    },\n]; \n\n\nclass TeamMemberTable extends Component {\n  state = {\n    order: 'asc',\n    orderBy: null,\n    selected: [],\n    data: team_member,\n    page: 0,\n    rowsPerPage: 10,\n  };\n\n\n  componentDidMount() {\n    if(token != null && token != \"\"){\n      decoded = jwt_decode(token);\n    }else{\n      history.push('/');\n    }        \n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      !_.isEqual(this.props.products, prevProps.products) ||\n      !_.isEqual(this.props.searchText, prevProps.searchText)\n    ) {\n      const data = this.getFilteredArray(team_member, this.props.searchText);\n      this.setState({ data });\n    }\n  }\n\n  getFilteredArray = (data, searchText) => {\n    if (searchText.length === 0) {\n      return data;\n    }\n    console.log(data);\n    return _.filter(data, item => item.name.toLowerCase().includes(searchText.toLowerCase()));\n  };\n\n  handleRequestSort = (event, property) => {\n    const orderBy = property;\n    let order = 'desc';\n\n    if (this.state.orderBy === property && this.state.order === 'desc') {\n      order = 'asc';\n    }\n\n    this.setState({\n      order,\n      orderBy\n    });\n  };\n\n  handleSelectAllClick = event => {\n    if (event.target.checked) {\n      this.setState(state => ({ selected: this.state.data.map(n => n.id) }));\n      return;\n    }\n    this.setState({ selected: [] });\n  };\n\n  handleClick = item => {\n    this.props.history.push('/profile');\n  };\n\n  handleCheck = (event, id) => {\n    const { selected } = this.state;\n    const selectedIndex = selected.indexOf(id);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, id);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n    }\n\n    this.setState({ selected: newSelected });\n  };\n\n  handleChangePage = (event, page) => {\n    this.setState({ page });\n  };\n\n  handleChangeRowsPerPage = event => {\n    this.setState({ rowsPerPage: event.target.value });\n  };\n\n  isSelected = id => this.state.selected.indexOf(id) !== -1;\n\n  render() {\n    const { order, orderBy, selected, rowsPerPage, page } = this.state;\n    // console.log(this.state)\n    const data = this.props.team_member;\n    console.log(this.props);\n\n    return (\n      <div className=\"w-full flex flex-col\">\n        <FuseScrollbars className=\"flex-grow overflow-x-auto\">\n          <Table className=\"min-w-xl\" aria-labelledby=\"tableTitle\">\n            <TeamMemberTableHead\n              numSelected={selected.length}\n              order={order}\n              orderBy={orderBy}\n              onSelectAllClick={this.handleSelectAllClick}\n              onRequestSort={this.handleRequestSort}\n              rowCount={data.length}\n            />\n\n            <TableBody>\n              {_.orderBy(\n                data,\n                [\n                  o => {\n                    switch (orderBy) {\n                      case 'categories': {\n                        return o.categories[0];\n                      }\n                      default: {\n                        return o[orderBy];\n                      }\n                    }\n                  }\n                ],\n                [order]\n              )\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map(n => {\n                  const isSelected = this.isSelected(n.id);\n                  return (\n                    <TableRow\n                      className=\"h-64 cursor-pointer\"\n                      hover\n                      role=\"checkbox\"\n                      aria-checked={isSelected}\n                      tabIndex={-1}\n                      key={n.id}\n                      selected={isSelected}\n                      onClick={(e) => this.handleClick(e, n.id)}\n                    >\n                      <TableCell component=\"th\" scope=\"row\">\n                        {n.username}\n                      </TableCell>\n\n                      <TableCell className=\"truncate\" component=\"th\" scope=\"row\">\n                        {n.position}\n                      </TableCell>\n\n                      <TableCell className=\"truncate\" component=\"th\" scope=\"row\">\n                        <Button variant=\"contained\" color=\"secondary\" disabled={false} aria-label=\"Follow\" component={Link} to={`/profile`}>\n                            View\n                        </Button>  \n\n                      </TableCell>\n                    </TableRow>\n                  );\n                })}\n            </TableBody>\n          </Table>\n        </FuseScrollbars>\n\n        <TablePagination\n          component=\"div\"\n          count={data.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          backIconButtonProps={{\n            'aria-label': 'Previous Page'\n          }}\n          nextIconButtonProps={{\n            'aria-label': 'Next Page'\n          }}\n          onChangePage={this.handleChangePage}\n          onChangeRowsPerPage={this.handleChangeRowsPerPage}\n        />\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      getProducts: Actions.getProducts\n    },\n    dispatch\n  );\n}\n\nfunction mapStateToProps({ eCommerceApp }) {\n  return {\n    products: eCommerceApp.products.data,\n    searchText: eCommerceApp.products.searchText\n  };\n}\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(TeamMemberTable)\n);\n"]},"metadata":{},"sourceType":"module"}