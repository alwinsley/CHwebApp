{"ast":null,"code":"import _classCallCheck from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/main/pages/songs/CreateSong.js\";\nimport { FuseAnimate, TextFieldFormsy } from '@fuse';\nimport classNames from 'classnames';\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { darken } from '@material-ui/core/styles/colorManipulator';\nimport { withStyles, Card, CardContent, Typography, Tabs, Tab, Button, InputAdornment, Icon } from '@material-ui/core';\nimport Formsy from 'formsy-react';\nimport { bindActionCreators } from 'redux';\nimport connect from 'react-redux/es/connect/connect';\nimport * as authActions from 'app/auth/store/actions';\nimport history from 'history.js';\nimport * as jwt_decode from \"jwt-decode\"; //----------get user data----------\n\nvar token = localStorage.getItem('token');\nvar decoded = []; //----------Api config ---------\n\nvar api_host = \"http://localhost:8080\";\nvar headers = new Headers();\nheaders.append('Access-Control-Allow-Origin', 'http://localhost:8080');\nheaders.append('Access-Control-Allow-Credentials', 'true');\nheaders.append('Content-Type', 'application/json');\nheaders.append('authorization', 'Bearer ' + token);\nvar photoURL = \"\";\nvar username = \"\";\nvar user = [];\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      background: 'linear-gradient(to right, ' + theme.palette.primary.dark + ' 0%, ' + darken(theme.palette.primary.dark, 0.5) + ' 100%)',\n      color: theme.palette.primary.contrastText\n    }\n  };\n};\n\nvar CreateSong =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateSong, _Component);\n\n  function CreateSong() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CreateSong);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CreateSong)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      show: false,\n      user: user\n    };\n\n    _this.createSong = function (model) {\n      console.log(model); // window.location.replace('/activity');\n      // this.props.submitLogin(model);\n\n      fetch(api_host + '/song', {\n        method: 'POST',\n        body: JSON.stringify({\n          name: model.song_name,\n          artist: model.artist_name,\n          key: model.key,\n          tempo: model.tempo,\n          link: model.link,\n          lyrics: model.lyrics,\n          uid: decoded.user.id\n        }),\n        headers: headers\n      }).then(function (response) {\n        response.json().then(function (data) {\n          console.log(data);\n          history.push('/songs');\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(CreateSong, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (token != null && token != \"\") {\n        decoded = jwt_decode(token);\n        username = decoded.user.username;\n\n        if (decoded.user.pic != null) {\n          photoURL = decoded.user.pic;\n        }\n\n        var user = {\n          'role': 'guest',\n          'data': {\n            'username': username,\n            'photoURL': photoURL\n          }\n        };\n      } else {\n        history.push('/login');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var classes = this.props.classes;\n      var tabValue = this.state.tabValue;\n      return React.createElement(\"div\", {\n        className: classNames(classes.root, 'flex flex-col flex-1 flex-no-shrink p-24 md:flex-row md:p-0'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex flex-col flex-no-grow items-center text-white p-16 text-center md:p-128 md:items-start md:flex-no-shrink md:flex-1 md:text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(FuseAnimate, {\n        animation: \"transition.expandIn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"w-128 mb-32\",\n        src: \"assets/images/logos/CampusHeadBetaLogo.png\",\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }))), React.createElement(FuseAnimate, {\n        animation: {\n          translateX: [0, '100%']\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"w-full max-w-400 mx-auto m-16 md:m-0\",\n        square: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(CardContent, {\n        className: \"flex flex-col items-center justify-center p-32 md:p-48 md:pt-128 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        className: \"text-center md:w-full mb-48\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Create Song !\"), React.createElement(\"div\", {\n        className: \"w-full\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Formsy, {\n        onValidSubmit: this.createSong,\n        onValid: this.enableButton,\n        onInvalid: this.disableButton,\n        ref: function ref(form) {\n          return _this2.form = form;\n        },\n        className: \"flex flex-col justify-center w-full\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(TextFieldFormsy, {\n        className: \"mb-16\",\n        type: \"text\",\n        name: \"song_name\",\n        label: \"Name of Song\",\n        variant: \"outlined\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(TextFieldFormsy, {\n        className: \"mb-16\",\n        type: \"text\",\n        name: \"artist_name\",\n        label: \"Artist Name\",\n        variant: \"outlined\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), React.createElement(TextFieldFormsy, {\n        className: \"mb-16\",\n        type: \"text\",\n        name: \"key\",\n        label: \"Key\",\n        variant: \"outlined\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(TextFieldFormsy, {\n        className: \"mb-16\",\n        type: \"text\",\n        name: \"tempo\",\n        label: \"Tempo\",\n        variant: \"outlined\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), React.createElement(TextFieldFormsy, {\n        className: \"mb-16\",\n        type: \"text\",\n        name: \"link\",\n        label: \"Youtube Link\",\n        variant: \"outlined\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), React.createElement(TextFieldFormsy, {\n        className: \"mb-16\",\n        type: \"text\",\n        name: \"lyrics\",\n        label: \"Lyrics\",\n        multiline: true,\n        rows: 5,\n        variant: \"outlined\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }), React.createElement(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        className: \"w-full mx-auto mt-16 normal-case\",\n        \"aria-label\": \"LOG IN\" // disabled={!canSubmit}\n        ,\n        value: \"legacy\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Create\"))), React.createElement(\"div\", {\n        className: \"flex flex-col items-center justify-center pt-32\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(Link, {\n        className: \"font-medium mt-8\",\n        to: \"/songs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Back to Song List Page\"))))));\n    }\n  }]);\n\n  return CreateSong;\n}(Component);\n\nexport default withStyles(styles, {\n  withTheme: true\n})(withRouter(CreateSong));","map":{"version":3,"sources":["/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/main/pages/songs/CreateSong.js"],"names":["FuseAnimate","TextFieldFormsy","classNames","React","Component","Link","withRouter","darken","withStyles","Card","CardContent","Typography","Tabs","Tab","Button","InputAdornment","Icon","Formsy","bindActionCreators","connect","authActions","history","jwt_decode","token","localStorage","getItem","decoded","api_host","headers","Headers","append","photoURL","username","user","styles","theme","root","background","palette","primary","dark","color","contrastText","CreateSong","state","show","createSong","model","console","log","fetch","method","body","JSON","stringify","name","song_name","artist","artist_name","key","tempo","link","lyrics","uid","id","then","response","json","data","push","pic","classes","props","tabValue","translateX","enableButton","disableButton","form","withTheme"],"mappings":"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","sourcesContent":["import { FuseAnimate, TextFieldFormsy } from '@fuse';\nimport classNames from 'classnames';\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { darken } from '@material-ui/core/styles/colorManipulator';\nimport { withStyles, Card, CardContent, Typography, Tabs, Tab, Button, InputAdornment, Icon } from '@material-ui/core';\n\nimport Formsy from 'formsy-react';\nimport { bindActionCreators } from 'redux';\nimport connect from 'react-redux/es/connect/connect';\nimport * as authActions from 'app/auth/store/actions';\nimport history from 'history.js';\n\nimport * as jwt_decode from \"jwt-decode\";\n\n\n//----------get user data----------\nvar token = localStorage.getItem('token');\nvar decoded = [];\n\n//----------Api config ---------\nconst api_host = \"http://localhost:8080\";\n\nlet headers = new Headers();\n\nheaders.append('Access-Control-Allow-Origin', 'http://localhost:8080');\nheaders.append('Access-Control-Allow-Credentials', 'true');\nheaders.append('Content-Type', 'application/json');\nheaders.append('authorization', 'Bearer ' + token);\n\nvar photoURL = \"\";\nvar username = \"\";\n\nvar user = [];\n\nconst styles = theme => ({\n  root: {\n    background:\n      'linear-gradient(to right, ' +\n      theme.palette.primary.dark +\n      ' 0%, ' +\n      darken(theme.palette.primary.dark, 0.5) +\n      ' 100%)',\n    color: theme.palette.primary.contrastText\n  }\n});\n\n\nclass CreateSong extends Component {\n  state = {\n    show: false,\n    user: user,    \n  };\n\n  componentDidMount(){\n    if(token != null && token != \"\"){\n      decoded = jwt_decode(token);\n        \n      username = decoded.user.username;\n\n      if(decoded.user.pic != null){\n          photoURL = decoded.user.pic;\n      }\n      var user = { 'role': 'guest',\n        'data': {\n          'username': username,\n          'photoURL': photoURL\n        }\n      } \n    }else{\n      history.push('/login');\n    }\n  }\n\n  createSong = model => {\n    console.log(model);\n    // window.location.replace('/activity');\n    // this.props.submitLogin(model);\n    fetch(api_host + '/song', {\n      method: 'POST',\n      body: JSON.stringify({        \n        name: model.song_name,\n        artist: model.artist_name,\n        key: model.key,\n        tempo: model.tempo,\n        link: model.link,\n        lyrics: model.lyrics,\n        uid: decoded.user.id,\n      }),\n      headers: headers\n    })\n    .then(response => {\n      response.json().then(data => {\n        console.log(data);\n        history.push('/songs');\n      })\n    });\n  };\n\n\n\n  render() {\n    const { classes } = this.props;\n    const { tabValue } = this.state;\n\n    return (\n      <div className={classNames(classes.root, 'flex flex-col flex-1 flex-no-shrink p-24 md:flex-row md:p-0')}>\n        <div className=\"flex flex-col flex-no-grow items-center text-white p-16 text-center md:p-128 md:items-start md:flex-no-shrink md:flex-1 md:text-left\">\n          <FuseAnimate animation=\"transition.expandIn\">\n            <img className=\"w-128 mb-32\" src=\"assets/images/logos/CampusHeadBetaLogo.png\" alt=\"logo\" />\n          </FuseAnimate>\n\n        </div>\n\n        <FuseAnimate animation={{ translateX: [0, '100%'] }}>\n          <Card className=\"w-full max-w-400 mx-auto m-16 md:m-0\" square>\n            <CardContent className=\"flex flex-col items-center justify-center p-32 md:p-48 md:pt-128 \">\n              <Typography variant=\"h6\" className=\"text-center md:w-full mb-48\">\n                Create Song !\n              </Typography>\n\n              <div className=\"w-full\">\n                <Formsy\n                  onValidSubmit={this.createSong}\n                  onValid={this.enableButton}\n                  onInvalid={this.disableButton}\n                  ref={form => (this.form = form)}\n                  className=\"flex flex-col justify-center w-full\"\n                >\n                    <TextFieldFormsy\n                    className=\"mb-16\"\n                    type=\"text\"\n                    name=\"song_name\"\n                    label=\"Name of Song\"\n                    variant=\"outlined\"\n                    required\n                    />\n\n                    <TextFieldFormsy\n                    className=\"mb-16\"\n                    type=\"text\"\n                    name=\"artist_name\"\n                    label=\"Artist Name\"\n                    variant=\"outlined\"\n                    required\n                    />\n\n                    <TextFieldFormsy\n                    className=\"mb-16\"\n                    type=\"text\"\n                    name=\"key\"\n                    label=\"Key\"\n                    variant=\"outlined\"\n                    required\n                    />\n\n                    <TextFieldFormsy\n                    className=\"mb-16\"\n                    type=\"text\"\n                    name=\"tempo\"\n                    label=\"Tempo\"\n                    variant=\"outlined\"\n                    required\n                    />  \n\n                    <TextFieldFormsy\n                    className=\"mb-16\"\n                    type=\"text\"\n                    name=\"link\"\n                    label=\"Youtube Link\"\n                    variant=\"outlined\"\n                    required\n                    />\n\n                    <TextFieldFormsy\n                    className=\"mb-16\"\n                    type=\"text\"\n                    name=\"lyrics\"\n                    label=\"Lyrics\"\n                    multiline rows={5}\n                    variant=\"outlined\"\n                    required\n                    />\n\n                    <Button\n                      type=\"submit\"\n                      variant=\"contained\"\n                      color=\"primary\"\n                      className=\"w-full mx-auto mt-16 normal-case\"\n                      aria-label=\"LOG IN\"\n                      // disabled={!canSubmit}\n                      value=\"legacy\"\n                    >\n                        Create\n                    </Button>\n                </Formsy>\n              </div>\n\n              <div className=\"flex flex-col items-center justify-center pt-32\">\n                <Link className=\"font-medium mt-8\" to=\"/songs\">\n                  Back to Song List Page\n                </Link>\n              </div>\n\n            </CardContent>\n          </Card>\n        </FuseAnimate>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(withRouter(CreateSong));\n"]},"metadata":{},"sourceType":"module"}