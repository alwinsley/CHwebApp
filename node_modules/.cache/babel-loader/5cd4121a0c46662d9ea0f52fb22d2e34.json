{"ast":null,"code":"import _objectSpread from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/main/pages/auth/register-2/RegisterPage.js\";\nimport { connect } from 'react-redux';\nimport _ from '@lodash';\nimport history from 'history.js';\nimport { FuseAnimate } from '@fuse';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport React, { Component } from 'react';\nimport { darken } from '@material-ui/core/styles/colorManipulator';\nimport { withStyles, Button, Card, CardContent, Checkbox, FormControl, FormControlLabel, TextField, Typography } from '@material-ui/core';\nimport { SET_USER_DATA } from '../../../../auth/store/actions';\nimport { setUserData as _setUserData } from '../../../../auth/store/actions/user.actions';\nimport * as jwt_decode from \"jwt-decode\";\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      background: 'linear-gradient(to right, ' + theme.palette.primary.dark + ' 0%, ' + darken(theme.palette.primary.dark, 0.5) + ' 100%)',\n      color: theme.palette.primary.contrastText\n    }\n  };\n};\n\nvar api_host = \"http://localhost:8080\";\nvar headers = new Headers();\nheaders.append('Access-Control-Allow-Origin', 'http://localhost:8080');\nheaders.append('Access-Control-Allow-Credentials', 'true');\nheaders.append('Content-Type', 'application/json');\n\nvar Register2Page =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Register2Page, _Component);\n\n  function Register2Page() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Register2Page);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Register2Page)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      username: '',\n      email: '',\n      password: '',\n      passwordConfirm: '',\n      acceptTermsConditions: false\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(_.set(_objectSpread({}, _this.state), event.target.name, event.target.type === 'checkbox' ? event.target.checked : event.target.value));\n    };\n\n    _this.handleClick = function (event, dispatch) {\n      _this.setState(_.set(_objectSpread({}, _this.state), event.target.name));\n\n      fetch(api_host + '/signup', {\n        method: 'POST',\n        body: JSON.stringify({\n          username: _this.state.username,\n          password: _this.state.password\n        }),\n        headers: headers\n      }).then(function (response) {\n        response.json().then(function (data) {\n          console.log(data);\n          localStorage.setItem('token', data);\n          var decoded = jwt_decode(data);\n          var user = {\n            role: 'guest',\n            data: {\n              displayName: decoded.user.username,\n              photoURL: decoded.user.pic,\n              shortcuts: ['calendar', 'mail', 'contacts', 'todo']\n            }\n          };\n\n          _this.props.setUserData(user);\n\n          history.push({\n            pathname: '/team'\n          });\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Register2Page, [{\n    key: \"canBeSubmitted\",\n    value: function canBeSubmitted() {\n      var _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password,\n          passwordConfirm = _this$state.passwordConfirm,\n          acceptTermsConditions = _this$state.acceptTermsConditions;\n      return username.length > 0 && password.length > 0 && password.length > 3 && password === passwordConfirm && acceptTermsConditions;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var _this$state2 = this.state,\n          username = _this$state2.username,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          passwordConfirm = _this$state2.passwordConfirm,\n          acceptTermsConditions = _this$state2.acceptTermsConditions;\n      return React.createElement(\"div\", {\n        className: classNames(classes.root, 'flex flex-col flex-auto flex-no-shrink p-24 md:flex-row md:p-0'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex flex-col flex-no-grow items-center text-white p-16 text-center md:p-128 md:items-start md:flex-no-shrink md:flex-1 md:text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(FuseAnimate, {\n        animation: \"transition.expandIn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"w-128 mb-32\",\n        src: \"assets/images/logos/CampusHeadBetaLogo.png\",\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      })), React.createElement(FuseAnimate, {\n        animation: \"transition.slideUpIn\",\n        delay: 300,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h3\",\n        color: \"inherit\",\n        className: \"font-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Welcome to the CampusHead!\")), React.createElement(FuseAnimate, {\n        delay: 400,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"subtitle1\",\n        color: \"inherit\",\n        className: \"max-w-512 mt-16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus ullamcorper nisl erat, vel convallis elit fermentum pellentesque. Sed mollis velit facilisis facilisis.\"))), React.createElement(FuseAnimate, {\n        animation: {\n          translateX: [0, '100%']\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"w-full max-w-400 mx-auto m-16 md:m-0\",\n        square: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(CardContent, {\n        className: \"flex flex-col items-center justify-center p-32 md:p-48 md:pt-128 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        className: \"md:w-full mb-32\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"CREATE AN ACCOUNT\"), React.createElement(\"form\", {\n        name: \"registerForm\",\n        noValidate: true,\n        className: \"flex flex-col justify-center w-full\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        className: \"mb-16\",\n        label: \"Name\",\n        autoFocus: true,\n        name: \"username\",\n        value: username,\n        onChange: this.handleChange,\n        variant: \"outlined\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        className: \"mb-16\",\n        label: \"Password\",\n        type: \"password\",\n        name: \"password\",\n        value: password,\n        onChange: this.handleChange,\n        variant: \"outlined\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        className: \"mb-16\",\n        label: \"Password (Confirm)\",\n        type: \"password\",\n        name: \"passwordConfirm\",\n        value: passwordConfirm,\n        onChange: this.handleChange,\n        variant: \"outlined\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }), React.createElement(FormControl, {\n        className: \"items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(FormControlLabel, {\n        control: React.createElement(Checkbox, {\n          name: \"acceptTermsConditions\",\n          checked: acceptTermsConditions,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }),\n        label: \"I read and accept terms and conditions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      })), React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        className: \"w-full mx-auto mt-16\",\n        \"aria-label\": \"Register\",\n        disabled: !this.canBeSubmitted(),\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"CREATE AN ACCOUNT\")), React.createElement(\"div\", {\n        className: \"flex flex-col items-center justify-center pt-32 pb-24\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"font-medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, \"Already have an account?\"), React.createElement(Link, {\n        className: \"font-medium\",\n        to: \"/team\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, \"Dashboard\"))))));\n    }\n  }]);\n\n  return Register2Page;\n}(Component);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setUserData: function setUserData(user) {\n      dispatch(_setUserData(user));\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(withStyles(styles, {\n  withTheme: true\n})(Register2Page)); // export default (FuseDialog);","map":{"version":3,"sources":["/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/main/pages/auth/register-2/RegisterPage.js"],"names":["connect","_","history","FuseAnimate","classNames","Link","React","Component","darken","withStyles","Button","Card","CardContent","Checkbox","FormControl","FormControlLabel","TextField","Typography","SET_USER_DATA","setUserData","jwt_decode","styles","theme","root","background","palette","primary","dark","color","contrastText","api_host","headers","Headers","append","Register2Page","state","username","email","password","passwordConfirm","acceptTermsConditions","handleChange","event","setState","set","target","name","type","checked","value","handleClick","dispatch","fetch","method","body","JSON","stringify","then","response","json","data","console","log","localStorage","setItem","decoded","user","role","displayName","photoURL","pic","shortcuts","props","push","pathname","length","classes","translateX","canBeSubmitted","mapDispatchToProps","withTheme"],"mappings":"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","sourcesContent":["import {connect} from 'react-redux';\nimport _ from '@lodash';\nimport history from 'history.js';\nimport { FuseAnimate } from '@fuse';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport React, { Component } from 'react';\nimport { darken } from '@material-ui/core/styles/colorManipulator';\nimport {\n  withStyles,\n  Button,\n  Card,\n  CardContent,\n  Checkbox,\n  FormControl,\n  FormControlLabel,\n  TextField,\n  Typography\n} from '@material-ui/core';\n\nimport { SET_USER_DATA } from '../../../../auth/store/actions'\nimport { setUserData } from '../../../../auth/store/actions/user.actions'\nimport * as jwt_decode from \"jwt-decode\";\n\n\nconst styles = theme => ({\n  root: {\n    background:\n      'linear-gradient(to right, ' +\n      theme.palette.primary.dark +\n      ' 0%, ' +\n      darken(theme.palette.primary.dark, 0.5) +\n      ' 100%)',\n    color: theme.palette.primary.contrastText\n  }\n});\n\nconst api_host = \"http://localhost:8080\";\n\nlet headers = new Headers();\n\nheaders.append('Access-Control-Allow-Origin', 'http://localhost:8080');\nheaders.append('Access-Control-Allow-Credentials', 'true');\nheaders.append('Content-Type', 'application/json');\n\nclass Register2Page extends Component {\n  state = {\n    username: '',\n    email: '',\n    password: '',\n    passwordConfirm: '',\n    acceptTermsConditions: false\n  };\n\n  handleChange = event => {\n    this.setState(\n      _.set(\n        { ...this.state },\n        event.target.name,\n        event.target.type === 'checkbox' ? event.target.checked : event.target.value\n      )\n    );\n  };\n\n  handleClick = (event, dispatch) => {\n    this.setState(\n      _.set(\n        { ...this.state },\n        event.target.name,\n      )\n    );\n\n    fetch(api_host + '/signup', {\n      method: 'POST',\n      body: JSON.stringify({\n        username: this.state.username,\n        password: this.state.password\n      }),\n      headers: headers\n    })\n    .then(response => {\n      response.json().then(data => {\n        console.log(data);\n        localStorage.setItem('token', data);        \n\n        var decoded = jwt_decode(data);\n\n        const user = {\n          role: 'guest',\n          data: {\n            displayName: decoded.user.username,\n            photoURL: decoded.user.pic,\n            shortcuts: [\n              'calendar',\n              'mail',\n              'contacts',\n              'todo'\n            ]\n          }\n        };\n\n        this.props.setUserData(user);\n\n        history.push({\n          pathname: '/team'\n        });\n\n      });\n    });\n  };\n\n  canBeSubmitted() {\n    const { username, password, passwordConfirm, acceptTermsConditions } = this.state;\n    return (\n      username.length > 0 &&\n      password.length > 0 &&\n      password.length > 3 &&\n      password === passwordConfirm &&\n      acceptTermsConditions\n    );\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { username, email, password, passwordConfirm, acceptTermsConditions } = this.state;\n\n\n    return (\n      <div className={classNames(classes.root, 'flex flex-col flex-auto flex-no-shrink p-24 md:flex-row md:p-0')}>\n        <div className=\"flex flex-col flex-no-grow items-center text-white p-16 text-center md:p-128 md:items-start md:flex-no-shrink md:flex-1 md:text-left\">\n          <FuseAnimate animation=\"transition.expandIn\">\n            <img className=\"w-128 mb-32\" src=\"assets/images/logos/CampusHeadBetaLogo.png\" alt=\"logo\" />\n          </FuseAnimate>\n\n          <FuseAnimate animation=\"transition.slideUpIn\" delay={300}>\n            <Typography variant=\"h3\" color=\"inherit\" className=\"font-light\">\n              Welcome to the CampusHead!\n            </Typography>\n          </FuseAnimate>\n\n          <FuseAnimate delay={400}>\n            <Typography variant=\"subtitle1\" color=\"inherit\" className=\"max-w-512 mt-16\">\n              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus ullamcorper nisl erat, vel convallis elit\n              fermentum pellentesque. Sed mollis velit facilisis facilisis.\n            </Typography>\n          </FuseAnimate>\n        </div>\n\n        <FuseAnimate animation={{ translateX: [0, '100%'] }}>\n          <Card className=\"w-full max-w-400 mx-auto m-16 md:m-0\" square>\n            <CardContent className=\"flex flex-col items-center justify-center p-32 md:p-48 md:pt-128 \">\n              <Typography variant=\"h6\" className=\"md:w-full mb-32\">\n                CREATE AN ACCOUNT\n              </Typography>\n\n              <form name=\"registerForm\" noValidate className=\"flex flex-col justify-center w-full\" >\n\n                <TextField\n                  className=\"mb-16\"\n                  label=\"Name\"\n                  autoFocus\n                  name=\"username\"\n                  value={username}\n                  onChange={this.handleChange}\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                />\n\n                <TextField\n                  className=\"mb-16\"\n                  label=\"Password\"\n                  type=\"password\"\n                  name=\"password\"\n                  value={password}\n                  onChange={this.handleChange}\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                />\n\n                <TextField\n                  className=\"mb-16\"\n                  label=\"Password (Confirm)\"\n                  type=\"password\"\n                  name=\"passwordConfirm\"\n                  value={passwordConfirm}\n                  onChange={this.handleChange}\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                />\n\n                <FormControl className=\"items-center\">\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        name=\"acceptTermsConditions\"\n                        checked={acceptTermsConditions}\n                        onChange={this.handleChange}\n                      />\n                    }\n                    label=\"I read and accept terms and conditions\"\n                  />\n                </FormControl>\n\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className=\"w-full mx-auto mt-16\"\n                  aria-label=\"Register\"\n                  disabled={!this.canBeSubmitted()}\n                  onClick = {this.handleClick}\n                >\n                  CREATE AN ACCOUNT\n                </Button>\n              </form>\n\n              <div className=\"flex flex-col items-center justify-center pt-32 pb-24\">\n                <span className=\"font-medium\">Already have an account?</span>\n                <Link className=\"font-medium\" to=\"/team\">\n                  Dashboard\n                </Link>\n              </div>\n            </CardContent>\n          </Card>\n        </FuseAnimate>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  setUserData: user => {\n    dispatch(setUserData(user))\n  }\n})\n\nexport default connect(null, mapDispatchToProps)(withStyles(styles, { withTheme: true })(Register2Page));\n// export default (FuseDialog);\n"]},"metadata":{},"sourceType":"module"}