{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/main/pages/team/list/TeamTable.js\";\nimport _ from '@lodash';\nimport { FuseScrollbars } from '@fuse';\nimport React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport TeamTableHead from './TeamTableHead';\nimport * as Actions from '../store/actions';\nimport { withRouter } from 'react-router-dom';\nimport connect from 'react-redux/es/connect/connect';\nimport { Table, TableBody, TableCell, TablePagination, TableRow, Button } from '@material-ui/core';\nimport * as jwt_decode from \"jwt-decode\";\nimport history from 'history.js'; //----------get user data----------\n\nvar token = localStorage.getItem('token');\nvar decoded = []; //----------Api config ---------\n\nvar api_host = \"http://localhost:8080\";\nvar headers = new Headers();\nheaders.append('Access-Control-Allow-Origin', 'http://localhost:8080');\nheaders.append('Access-Control-Allow-Credentials', 'true');\nheaders.append('Content-Type', 'application/json');\nheaders.append('authorization', 'Bearer ' + token);\nvar team = {\n  'id': 0,\n  'name': '',\n  'position': '',\n  'isJoined': false\n};\n\nvar ProductsTable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProductsTable, _Component);\n\n  function ProductsTable() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProductsTable);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProductsTable)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      order: 'asc',\n      orderBy: null,\n      selected: [],\n      data: _this.props.products,\n      page: 0,\n      rowsPerPage: 10\n    };\n\n    _this.getFilteredArray = function (data, searchText) {\n      if (searchText.length === 0) {\n        return data;\n      }\n\n      console.log(data);\n      return _.filter(data, function (item) {\n        return item.name.toLowerCase().includes(searchText.toLowerCase());\n      });\n    };\n\n    _this.handleRequestSort = function (event, property) {\n      var orderBy = property;\n      var order = 'desc';\n\n      if (_this.state.orderBy === property && _this.state.order === 'desc') {\n        order = 'asc';\n      }\n\n      _this.setState({\n        order: order,\n        orderBy: orderBy\n      });\n    };\n\n    _this.handleSelectAllClick = function (event) {\n      if (event.target.checked) {\n        _this.setState(function (state) {\n          return {\n            selected: _this.state.data.map(function (n) {\n              return n.id;\n            })\n          };\n        });\n\n        return;\n      }\n\n      _this.setState({\n        selected: []\n      });\n    };\n\n    _this.handleClick = function (item) {\n      _this.props.history.push('/apps/e-commerce/products/' + item.id + '/' + item.handle);\n    };\n\n    _this.handleCheck = function (event, id) {\n      var selected = _this.state.selected;\n      var selectedIndex = selected.indexOf(id);\n      var newSelected = [];\n\n      if (selectedIndex === -1) {\n        newSelected = newSelected.concat(selected, id);\n      } else if (selectedIndex === 0) {\n        newSelected = newSelected.concat(selected.slice(1));\n      } else if (selectedIndex === selected.length - 1) {\n        newSelected = newSelected.concat(selected.slice(0, -1));\n      } else if (selectedIndex > 0) {\n        newSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n      }\n\n      _this.setState({\n        selected: newSelected\n      });\n    };\n\n    _this.handleChangePage = function (event, page) {\n      _this.setState({\n        page: page\n      });\n    };\n\n    _this.handleChangeRowsPerPage = function (event) {\n      _this.setState({\n        rowsPerPage: event.target.value\n      });\n    };\n\n    _this.isSelected = function (id) {\n      return _this.state.selected.indexOf(id) !== -1;\n    };\n\n    return _this;\n  }\n\n  _createClass(ProductsTable, [{\n    key: \"readTeamInfo\",\n    value: function readTeamInfo() {\n      var _this2 = this;\n\n      fetch(api_host + '/team', {\n        method: 'GET',\n        headers: headers\n      }).then(function (response) {\n        response.json().then(function (data) {\n          console.log(data);\n\n          if (data.teamInfo.length != 0) {\n            console.log('team data');\n            team = data.teamInfo;\n\n            _this2.setState({\n              data: team\n            });\n          }\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (token != null && token != \"\") {\n        decoded = jwt_decode(token);\n        this.readTeamInfo();\n      } else {\n        history.push('/');\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!_.isEqual(this.props.products, prevProps.products) || !_.isEqual(this.props.searchText, prevProps.searchText)) {\n        var data = this.getFilteredArray(team, this.props.searchText);\n        this.setState({\n          data: data\n        });\n      }\n    }\n  }, {\n    key: \"joinClick\",\n    value: function () {\n      var _joinClick = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(event, id, name) {\n        var _this3 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(api_host + '/user/' + decoded.user.id + '/joinTeam/' + id, {\n                  method: 'POST',\n                  body: JSON.stringify({\n                    position: 'Member'\n                  }),\n                  headers: headers\n                }).then(function (response) {\n                  _this3.props.showMessage({\n                    message: \"You are joined in \" + name,\n                    autoHideDuration: 6000,\n                    //ms\n                    anchorOrigin: {\n                      vertical: 'top',\n                      //top bottom\n                      horizontal: 'right' //left center right\n\n                    },\n                    variant: 'success' //success error info warning null\n\n                  });\n                });\n\n              case 2:\n                this.readTeamInfo();\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function joinClick(_x, _x2, _x3) {\n        return _joinClick.apply(this, arguments);\n      }\n\n      return joinClick;\n    }()\n  }, {\n    key: \"exitClick\",\n    value: function () {\n      var _exitClick = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(event, id, name) {\n        var _this4 = this;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return fetch(api_host + '/user/' + decoded.user.id + '/exitTeam/' + id, {\n                  method: 'POST',\n                  body: JSON.stringify({\n                    position: 'Member'\n                  }),\n                  headers: headers\n                }).then(function (response) {\n                  _this4.props.showMessage({\n                    message: \"You are exited from \" + name,\n                    autoHideDuration: 6000,\n                    //ms\n                    anchorOrigin: {\n                      vertical: 'top',\n                      //top bottom\n                      horizontal: 'right' //left center right\n\n                    },\n                    variant: 'success' //success error info warning null\n\n                  });\n                });\n\n              case 2:\n                this.readTeamInfo();\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function exitClick(_x4, _x5, _x6) {\n        return _exitClick.apply(this, arguments);\n      }\n\n      return exitClick;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var _this$state = this.state,\n          order = _this$state.order,\n          orderBy = _this$state.orderBy,\n          selected = _this$state.selected,\n          rowsPerPage = _this$state.rowsPerPage,\n          page = _this$state.page,\n          data = _this$state.data;\n      console.log(this.state); // console.log('///////////////',this.props);\n\n      var hasTeam = false;\n      this.state.data.forEach(function (team) {\n        if (team.uid == decoded.user.id) hasTeam = true;\n      });\n      return React.createElement(\"div\", {\n        className: \"w-full flex flex-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(FuseScrollbars, {\n        className: \"flex-grow overflow-x-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: \"min-w-xl\",\n        \"aria-labelledby\": \"tableTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(TeamTableHead, {\n        numSelected: selected.length,\n        order: order,\n        orderBy: orderBy,\n        onSelectAllClick: this.handleSelectAllClick,\n        onRequestSort: this.handleRequestSort,\n        rowCount: data.length,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }), hasTeam ? React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, _.orderBy(data, [function (o) {\n        switch (orderBy) {\n          case 'categories':\n            {\n              return o.categories[0];\n            }\n\n          default:\n            {\n              return o[orderBy];\n            }\n        }\n      }], [order]).slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(function (n) {\n        var isSelected = _this5.isSelected(n.id);\n\n        return React.createElement(TableRow, {\n          className: \"h-64 cursor-pointer\",\n          hover: true,\n          role: \"checkbox\",\n          \"aria-checked\": isSelected,\n          tabIndex: -1,\n          key: n.id,\n          selected: isSelected,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        }, n.name), React.createElement(TableCell, {\n          className: \"truncate\",\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255\n          },\n          __self: this\n        }, n.uid == decoded.user.id ? React.createElement(Button, {\n          variant: \"contained\",\n          color: \"secondary\",\n          disabled: false,\n          \"aria-label\": \"Follow\",\n          onClick: function onClick(e) {\n            return _this5.exitClick(e, n.id, n.name);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }, \"Exit\") : React.createElement(Button, {\n          variant: \"contained\",\n          color: \"secondary\",\n          disabled: true,\n          \"aria-label\": \"Follow\",\n          onClick: function onClick(e) {\n            return _this5.joinClick(e, n.id, n.name);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }, \"Join\")));\n      })) : React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, _.orderBy(data, [function (o) {\n        switch (orderBy) {\n          case 'categories':\n            {\n              return o.categories[0];\n            }\n\n          default:\n            {\n              return o[orderBy];\n            }\n        }\n      }], [order]).slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(function (n) {\n        var isSelected = _this5.isSelected(n.id);\n\n        return React.createElement(TableRow, {\n          className: \"h-64 cursor-pointer\",\n          hover: true,\n          role: \"checkbox\",\n          \"aria-checked\": isSelected,\n          tabIndex: -1,\n          key: n.id,\n          selected: isSelected,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303\n          },\n          __self: this\n        }, n.name), React.createElement(TableCell, {\n          className: \"truncate\",\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 311\n          },\n          __self: this\n        }, React.createElement(Button, {\n          variant: \"contained\",\n          color: \"secondary\",\n          disabled: false,\n          \"aria-label\": \"Follow\",\n          onClick: function onClick(e) {\n            return _this5.joinClick(e, n.id, n.name);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 312\n          },\n          __self: this\n        }, \"Join\")));\n      })))), React.createElement(TablePagination, {\n        component: \"div\",\n        count: data.length,\n        rowsPerPage: rowsPerPage,\n        page: page,\n        backIconButtonProps: {\n          'aria-label': 'Previous Page'\n        },\n        nextIconButtonProps: {\n          'aria-label': 'Next Page'\n        },\n        onChangePage: this.handleChangePage,\n        onChangeRowsPerPage: this.handleChangeRowsPerPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ProductsTable;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getProducts: Actions.getProducts,\n    showMessage: Actions.showMessage,\n    hideMessage: Actions.hideMessage\n  }, dispatch);\n}\n\nfunction mapStateToProps(_ref) {\n  var eCommerceApp = _ref.eCommerceApp;\n  return {\n    products: eCommerceApp.products.data,\n    searchText: eCommerceApp.products.searchText\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ProductsTable));","map":{"version":3,"sources":["/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/main/pages/team/list/TeamTable.js"],"names":["_","FuseScrollbars","React","Component","bindActionCreators","TeamTableHead","Actions","withRouter","connect","Table","TableBody","TableCell","TablePagination","TableRow","Button","jwt_decode","history","token","localStorage","getItem","decoded","api_host","headers","Headers","append","team","ProductsTable","state","order","orderBy","selected","data","props","products","page","rowsPerPage","getFilteredArray","searchText","length","console","log","filter","item","name","toLowerCase","includes","handleRequestSort","event","property","setState","handleSelectAllClick","target","checked","map","n","id","handleClick","push","handle","handleCheck","selectedIndex","indexOf","newSelected","concat","slice","handleChangePage","handleChangeRowsPerPage","value","isSelected","fetch","method","then","response","json","teamInfo","readTeamInfo","prevProps","prevState","isEqual","user","body","JSON","stringify","position","showMessage","message","autoHideDuration","anchorOrigin","vertical","horizontal","variant","hasTeam","forEach","uid","o","categories","e","exitClick","joinClick","mapDispatchToProps","dispatch","getProducts","hideMessage","mapStateToProps","eCommerceApp"],"mappings":"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","sourcesContent":["import _ from '@lodash';\nimport { FuseScrollbars } from '@fuse';\nimport React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport TeamTableHead from './TeamTableHead';\nimport * as Actions from '../store/actions';\nimport { withRouter } from 'react-router-dom';\nimport connect from 'react-redux/es/connect/connect';\nimport { Table, TableBody, TableCell, TablePagination, TableRow, Button } from '@material-ui/core';\nimport * as jwt_decode from \"jwt-decode\";\nimport history from 'history.js';\n\n\n//----------get user data----------\nvar token = localStorage.getItem('token');\nvar decoded = [];\n\n//----------Api config ---------\nconst api_host = \"http://localhost:8080\";\n\nlet headers = new Headers();\n\nheaders.append('Access-Control-Allow-Origin', 'http://localhost:8080');\nheaders.append('Access-Control-Allow-Credentials', 'true');\nheaders.append('Content-Type', 'application/json');\nheaders.append('authorization', 'Bearer ' + token);\n\nvar team = { \n  'id': 0,\n  'name': '',\n  'position': '',\n  'isJoined': false,\n}; \n\n\nclass ProductsTable extends Component {\n  state = {\n    order: 'asc',\n    orderBy: null,\n    selected: [],\n    data: this.props.products,\n    page: 0,\n    rowsPerPage: 10,\n  };\n\n  readTeamInfo(){\n    fetch(api_host + '/team', {\n      method: 'GET',\n      headers: headers\n    })\n    .then(response => {\n      response.json().then(data => {\n        console.log(data);\n\n        if(data.teamInfo.length != 0){\n          console.log('team data')\n          team = data.teamInfo;\n          this.setState({ data: team });\n        }\n      })\n    });\n  }\n\n  componentDidMount() {\n    if(token != null && token != \"\"){\n      decoded = jwt_decode(token);\n      this.readTeamInfo();\n    }else{\n      history.push('/');\n    }        \n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      !_.isEqual(this.props.products, prevProps.products) ||\n      !_.isEqual(this.props.searchText, prevProps.searchText)\n    ) {\n      const data = this.getFilteredArray(team, this.props.searchText);\n      this.setState({ data });\n    }\n  }\n\n  getFilteredArray = (data, searchText) => {\n    if (searchText.length === 0) {\n      return data;\n    }\n    console.log(data);\n    return _.filter(data, item => item.name.toLowerCase().includes(searchText.toLowerCase()));\n  };\n\n  handleRequestSort = (event, property) => {\n    const orderBy = property;\n    let order = 'desc';\n\n    if (this.state.orderBy === property && this.state.order === 'desc') {\n      order = 'asc';\n    }\n\n    this.setState({\n      order,\n      orderBy\n    });\n  };\n\n  handleSelectAllClick = event => {\n    if (event.target.checked) {\n      this.setState(state => ({ selected: this.state.data.map(n => n.id) }));\n      return;\n    }\n    this.setState({ selected: [] });\n  };\n\n  handleClick = item => {\n    this.props.history.push('/apps/e-commerce/products/' + item.id + '/' + item.handle);\n  };\n\n  handleCheck = (event, id) => {\n    const { selected } = this.state;\n    const selectedIndex = selected.indexOf(id);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, id);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n    }\n\n    this.setState({ selected: newSelected });\n  };\n\n  async joinClick(event, id, name) {\n    await fetch(api_host + '/user/'+decoded.user.id+'/joinTeam/'+id, {\n      method: 'POST',\n      body: JSON.stringify({\n        position: 'Member',\n      }),\n      headers: headers\n    })\n    .then(response => {\n      this.props.showMessage({\n        message     : \"You are joined in \" + name,\n        autoHideDuration: 6000,//ms\n        anchorOrigin: {\n            vertical  : 'top',//top bottom\n            horizontal: 'right'//left center right\n        },\n        variant: 'success'//success error info warning null\n      });\n    });\n\n    this.readTeamInfo();\n \n  }  \n\n  async exitClick(event, id, name){\n    await fetch(api_host + '/user/'+decoded.user.id+'/exitTeam/'+id, {\n      method: 'POST',\n      body: JSON.stringify({\n        position: 'Member',\n      }),\n      headers: headers\n    })\n    .then(response => {\n      this.props.showMessage({\n        message     : \"You are exited from \" + name,\n        autoHideDuration: 6000,//ms\n        anchorOrigin: {\n            vertical  : 'top',//top bottom\n            horizontal: 'right'//left center right\n        },\n        variant: 'success'//success error info warning null\n      });\n    });\n    this.readTeamInfo();\n  }\n\n\n  handleChangePage = (event, page) => {\n    this.setState({ page });\n  };\n\n  handleChangeRowsPerPage = event => {\n    this.setState({ rowsPerPage: event.target.value });\n  };\n\n  isSelected = id => this.state.selected.indexOf(id) !== -1;\n\n  render() {  \n    const { order, orderBy, selected, rowsPerPage, page, data } = this.state;\n\n    console.log(this.state);\n    // console.log('///////////////',this.props);\n\n    var hasTeam = false;\n    this.state.data.forEach(team => {\n      if(team.uid == decoded.user.id)\n        hasTeam = true;\n    });\n\n    return (\n      <div className=\"w-full flex flex-col\">\n        <FuseScrollbars className=\"flex-grow overflow-x-auto\">\n          <Table className=\"min-w-xl\" aria-labelledby=\"tableTitle\">\n            <TeamTableHead\n              numSelected={selected.length}\n              order={order}\n              orderBy={orderBy}\n              onSelectAllClick={this.handleSelectAllClick}\n              onRequestSort={this.handleRequestSort}\n              rowCount={data.length}\n            />\n            {hasTeam ? (\n              <TableBody>\n                {_.orderBy(\n                  data,\n                  [\n                    o => {\n                      switch (orderBy) {\n                        case 'categories': {\n                          return o.categories[0];\n                        }\n                        default: {\n                          return o[orderBy];\n                        }\n                      }\n                    }\n                  ],\n                  [order]\n                )\n                  .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                  .map(n => {\n                    const isSelected = this.isSelected(n.id);\n                    return (\n                      <TableRow\n                        className=\"h-64 cursor-pointer\"\n                        hover\n                        role=\"checkbox\"\n                        aria-checked={isSelected}\n                        tabIndex={-1}\n                        key={n.id}\n                        selected={isSelected}\n                      >\n                        <TableCell component=\"th\" scope=\"row\">\n                          {n.name}\n                        </TableCell>\n\n                        {/* <TableCell className=\"truncate\" component=\"th\" scope=\"row\">\n                          {n.location}\n                        </TableCell> */}\n\n                        <TableCell className=\"truncate\" component=\"th\" scope=\"row\">\n                          {n.uid == decoded.user.id ? (\n                            <Button variant=\"contained\" color=\"secondary\" disabled={false} aria-label=\"Follow\" onClick={(e)=>this.exitClick(e, n.id, n.name)}>\n                              Exit\n                            </Button>                        \n                            ) : (\n                            <Button variant=\"contained\" color=\"secondary\" disabled={true} aria-label=\"Follow\" onClick={(e)=>this.joinClick(e, n.id, n.name)}>\n                              Join\n                            </Button>  \n                            )\n                          }\n\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })}\n                </TableBody>                    \n              ) : (\n              <TableBody>\n                {_.orderBy(\n                  data,\n                  [\n                    o => {\n                      switch (orderBy) {\n                        case 'categories': {\n                          return o.categories[0];\n                        }\n                        default: {\n                          return o[orderBy];\n                        }\n                      }\n                    }\n                  ],\n                  [order]\n                )\n                  .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                  .map(n => {\n                    const isSelected = this.isSelected(n.id);\n                    return (\n                      <TableRow\n                        className=\"h-64 cursor-pointer\"\n                        hover\n                        role=\"checkbox\"\n                        aria-checked={isSelected}\n                        tabIndex={-1}\n                        key={n.id}\n                        selected={isSelected}\n                      >\n                        <TableCell component=\"th\" scope=\"row\">\n                          {n.name}\n                        </TableCell>\n\n                        {/* <TableCell className=\"truncate\" component=\"th\" scope=\"row\">\n                          {n.location}\n                        </TableCell> */}\n\n                        <TableCell className=\"truncate\" component=\"th\" scope=\"row\">\n                            <Button variant=\"contained\" color=\"secondary\" disabled={false} aria-label=\"Follow\" onClick={(e)=>this.joinClick(e, n.id, n.name)}>\n                              Join\n                            </Button>  \n\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })}\n                </TableBody>\n              )\n            }\n          </Table>\n        </FuseScrollbars>\n\n        <TablePagination\n          component=\"div\"\n          count={data.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          backIconButtonProps={{\n            'aria-label': 'Previous Page'\n          }}\n          nextIconButtonProps={{\n            'aria-label': 'Next Page'\n          }}\n          onChangePage={this.handleChangePage}\n          onChangeRowsPerPage={this.handleChangeRowsPerPage}\n        />\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      getProducts: Actions.getProducts,\n      showMessage: Actions.showMessage,\n      hideMessage: Actions.hideMessage,\n    },\n    dispatch\n  );\n}\n\nfunction mapStateToProps({ eCommerceApp }) {\n  return {\n    products: eCommerceApp.products.data,\n    searchText: eCommerceApp.products.searchText\n  };\n}\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(ProductsTable)\n);\n"]},"metadata":{},"sourceType":"module"}