{"ast":null,"code":"import _classCallCheck from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/fuse-layouts/shared-components/UserMenu.js\";\nimport React, { Component } from 'react';\nimport { Avatar, Button, Icon, ListItemIcon, ListItemText, Popover, MenuItem, Typography } from '@material-ui/core';\nimport { connect } from 'react-redux';\nimport * as authActions from 'app/auth/store/actions';\nimport { bindActionCreators } from 'redux';\nimport { Link } from 'react-router-dom';\nimport history from 'history.js';\nimport * as jwt_decode from \"jwt-decode\";\n\nvar UserMenu =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserMenu, _Component);\n\n  function UserMenu() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UserMenu);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UserMenu)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      userMenu: null,\n      user: {\n        'role': 'guest',\n        'data': {\n          displayName: '',\n          photoURL: ''\n        }\n      }\n    };\n\n    _this.userMenuClick = function (event) {\n      _this.setState({\n        userMenu: event.currentTarget\n      });\n    };\n\n    _this.userMenuClose = function () {\n      _this.setState({\n        userMenu: null\n      });\n    };\n\n    _this.logout = function () {\n      localStorage.removeItem('token');\n      history.push({\n        pathname: '/'\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(UserMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var token = localStorage.getItem('token');\n      console.log(token);\n      var photoURL = \"\";\n      var username = \"\";\n\n      if (token != null && token != '') {\n        var decoded = jwt_decode(token);\n        console.log(decoded);\n        username = decoded.user.username;\n\n        if (decoded.user.pic != null) {\n          photoURL = decoded.user.pic;\n        }\n\n        var user = {\n          'role': 'guest',\n          'data': {\n            'displayName': username,\n            'photoURL': photoURL\n          }\n        };\n        this.setState({\n          user: user\n        });\n      } else {\n        history.push({\n          pathname: '/'\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      // const { user, logout } = this.props;\n      var _this$state = this.state,\n          user = _this$state.user,\n          userMenu = _this$state.userMenu;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"h-64\",\n        onClick: this.userMenuClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, user.data.photoURL ? React.createElement(Avatar, {\n        className: \"\",\n        alt: \"user photo\",\n        src: user.data.photoURL,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }) : React.createElement(Avatar, {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, user.data.displayName), React.createElement(\"div\", {\n        className: \"md:flex flex-col ml-12 items-start\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        component: \"span\",\n        className: \"normal-case font-600 flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, user.data.displayName), React.createElement(Typography, {\n        className: \"text-11 capitalize\",\n        color: \"textSecondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, user.role)), React.createElement(Icon, {\n        className: \"text-16 ml-12 hidden sm:flex\",\n        variant: \"action\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"keyboard_arrow_down\")), React.createElement(Popover, {\n        open: Boolean(userMenu),\n        anchorEl: userMenu,\n        onClose: this.userMenuClose,\n        anchorOrigin: {\n          vertical: 'bottom',\n          horizontal: 'center'\n        },\n        transformOrigin: {\n          vertical: 'top',\n          horizontal: 'center'\n        },\n        classes: {\n          paper: 'py-8'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, user.role === 'guest' ? React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        component: Link,\n        to: \"/activity\",\n        onClick: this.userMenuClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"whatshot\")), React.createElement(ListItemText, {\n        className: \"pl-0\",\n        primary: \"Home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), React.createElement(MenuItem, {\n        component: Link,\n        to: \"/songs\",\n        onClick: this.userMenuClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"alarm\")), React.createElement(ListItemText, {\n        className: \"pl-0\",\n        primary: \"Songs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      })), React.createElement(MenuItem, {\n        component: Link,\n        to: \"/calendar\",\n        onClick: this.userMenuClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"today\")), React.createElement(ListItemText, {\n        className: \"pl-0\",\n        primary: \"Calendar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      })), React.createElement(MenuItem, {\n        component: Link,\n        to: \"/team_member/list\",\n        onClick: this.userMenuClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"account_box\")), React.createElement(ListItemText, {\n        className: \"pl-0\",\n        primary: \"Team members\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      })), React.createElement(MenuItem, {\n        component: Link,\n        to: \"/team\",\n        onClick: this.userMenuClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"account_box\")), React.createElement(ListItemText, {\n        className: \"pl-0\",\n        primary: \"List Of Teams\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      })), React.createElement(MenuItem, {\n        component: Link,\n        to: \"/pricing\",\n        onClick: this.userMenuClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"attach_money\")), React.createElement(ListItemText, {\n        className: \"pl-0\",\n        primary: \"Pricing\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      })), React.createElement(MenuItem, {\n        component: Link,\n        to: \"/profile\",\n        onClick: this.userMenuClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"account_circle\")), React.createElement(ListItemText, {\n        className: \"pl-0\",\n        primary: \"My Profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      })), React.createElement(MenuItem, {\n        onClick: function onClick() {\n          _this2.logout();\n\n          _this2.userMenuClose();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"exit_to_app\")), React.createElement(ListItemText, {\n        className: \"pl-0\",\n        primary: \"Logout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }))) : React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        component: Link,\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"lock\")), React.createElement(ListItemText, {\n        className: \"pl-0\",\n        primary: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      })), React.createElement(MenuItem, {\n        component: Link,\n        to: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"person_add\")), React.createElement(ListItemText, {\n        className: \"pl-0\",\n        primary: \"Register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return UserMenu;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    logout: authActions.logoutUser\n  }, dispatch);\n}\n\nfunction mapStateToProps(_ref) {\n  var auth = _ref.auth;\n  return {\n    user: auth.user\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);","map":{"version":3,"sources":["/Users/ALJohnny/Desktop/Git/ReactCHLayout/src/app/fuse-layouts/shared-components/UserMenu.js"],"names":["React","Component","Avatar","Button","Icon","ListItemIcon","ListItemText","Popover","MenuItem","Typography","connect","authActions","bindActionCreators","Link","history","jwt_decode","UserMenu","state","userMenu","user","displayName","photoURL","userMenuClick","event","setState","currentTarget","userMenuClose","logout","localStorage","removeItem","push","pathname","token","getItem","console","log","username","decoded","pic","data","role","Boolean","vertical","horizontal","paper","mapDispatchToProps","dispatch","logoutUser","mapStateToProps","auth"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,MAAjB,EAAyBC,IAAzB,EAA+BC,YAA/B,EAA6CC,YAA7C,EAA2DC,OAA3D,EAAoEC,QAApE,EAA8EC,UAA9E,QAAgG,mBAAhG;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,WAAZ,MAA6B,wBAA7B;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAO,KAAKC,UAAZ,MAA4B,YAA5B;;IAEMC,Q;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,QAAQ,EAAE,IADJ;AAENC,MAAAA,IAAI,EAAE;AAAE,gBAAQ,OAAV;AACE,gBAAQ;AACNC,UAAAA,WAAW,EAAE,EADP;AAENC,UAAAA,QAAQ,EAAE;AAFJ;AADV;AAFA,K;;UAwCRC,a,GAAgB,UAAAC,KAAK,EAAI;AACvB,YAAKC,QAAL,CAAc;AAAEN,QAAAA,QAAQ,EAAEK,KAAK,CAACE;AAAlB,OAAd;AACD,K;;UAEDC,a,GAAgB,YAAM;AACpB,YAAKF,QAAL,CAAc;AAAEN,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AACD,K;;UAEDS,M,GAAS,YAAM;AACbC,MAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAf,MAAAA,OAAO,CAACgB,IAAR,CAAa;AACXC,QAAAA,QAAQ,EAAE;AADC,OAAb;AAGD,K;;;;;;;wCA3CmB;AAElB,UAAIC,KAAK,GAAGJ,YAAY,CAACK,OAAb,CAAqB,OAArB,CAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AAEA,UAAIX,QAAQ,GAAG,EAAf;AACA,UAAIe,QAAQ,GAAG,EAAf;;AAEA,UAAGJ,KAAK,IAAI,IAAT,IAAiBA,KAAK,IAAI,EAA7B,EAAgC;AAC9B,YAAIK,OAAO,GAAGtB,UAAU,CAACiB,KAAD,CAAxB;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAYE,OAAZ;AACAD,QAAAA,QAAQ,GAAGC,OAAO,CAAClB,IAAR,CAAaiB,QAAxB;;AAEA,YAAGC,OAAO,CAAClB,IAAR,CAAamB,GAAb,IAAoB,IAAvB,EAA4B;AACxBjB,UAAAA,QAAQ,GAAGgB,OAAO,CAAClB,IAAR,CAAamB,GAAxB;AACH;;AACD,YAAInB,IAAI,GAAG;AAAE,kBAAQ,OAAV;AACT,kBAAQ;AACN,2BAAeiB,QADT;AAEN,wBAAYf;AAFN;AADC,SAAX;AAMA,aAAKG,QAAL,CAAc;AAAEL,UAAAA,IAAI,EAAEA;AAAR,SAAd;AACD,OAfD,MAeK;AACHL,QAAAA,OAAO,CAACgB,IAAR,CAAa;AACTC,UAAAA,QAAQ,EAAE;AADD,SAAb;AAGD;AACF;;;6BAiBQ;AAAA;;AACP;AADO,wBAEoB,KAAKd,KAFzB;AAAA,UAECE,IAFD,eAECA,IAFD;AAAA,UAEOD,QAFP,eAEOA,QAFP;AAIP,aACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,MAAlB;AAAyB,QAAA,OAAO,EAAE,KAAKI,aAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGH,IAAI,CAACoB,IAAL,CAAUlB,QAAV,GACC,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,EAAlB;AAAqB,QAAA,GAAG,EAAC,YAAzB;AAAsC,QAAA,GAAG,EAAEF,IAAI,CAACoB,IAAL,CAAUlB,QAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,GAGC,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,EAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsBF,IAAI,CAACoB,IAAL,CAAUnB,WAAhC,CAJJ,EAQE;AAAK,QAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,SAAS,EAAC,MAAtB;AAA6B,QAAA,SAAS,EAAC,2BAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGD,IAAI,CAACoB,IAAL,CAAUnB,WADb,CADF,EAIE,oBAAC,UAAD;AAAY,QAAA,SAAS,EAAC,oBAAtB;AAA2C,QAAA,KAAK,EAAC,eAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGD,IAAI,CAACqB,IADR,CAJF,CARF,EAiBE,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAC,8BAAhB;AAA+C,QAAA,OAAO,EAAC,QAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAjBF,CADF,EAuBE,oBAAC,OAAD;AACE,QAAA,IAAI,EAAEC,OAAO,CAACvB,QAAD,CADf;AAEE,QAAA,QAAQ,EAAEA,QAFZ;AAGE,QAAA,OAAO,EAAE,KAAKQ,aAHhB;AAIE,QAAA,YAAY,EAAE;AACZgB,UAAAA,QAAQ,EAAE,QADE;AAEZC,UAAAA,UAAU,EAAE;AAFA,SAJhB;AAQE,QAAA,eAAe,EAAE;AACfD,UAAAA,QAAQ,EAAE,KADK;AAEfC,UAAAA,UAAU,EAAE;AAFG,SARnB;AAYE,QAAA,OAAO,EAAE;AACPC,UAAAA,KAAK,EAAE;AADA,SAZX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAgBGzB,IAAI,CAACqB,IAAL,KAAc,OAAd,GACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAE3B,IAArB;AAA2B,QAAA,EAAE,EAAC,WAA9B;AAA0C,QAAA,OAAO,EAAE,KAAKa,aAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CADF,EAIE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAC,MAAxB;AAA+B,QAAA,OAAO,EAAC,MAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CADF,EAOE,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAEb,IAArB;AAA2B,QAAA,EAAE,EAAC,QAA9B;AAAuC,QAAA,OAAO,EAAE,KAAKa,aAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CADF,EAIE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAC,MAAxB;AAA+B,QAAA,OAAO,EAAC,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CAPF,EAaE,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAEb,IAArB;AAA2B,QAAA,EAAE,EAAC,WAA9B;AAA0C,QAAA,OAAO,EAAE,KAAKa,aAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CADF,EAIE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAC,MAAxB;AAA+B,QAAA,OAAO,EAAC,UAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CAbF,EAmBE,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAEb,IAArB;AAA2B,QAAA,EAAE,EAAC,mBAA9B;AAAkD,QAAA,OAAO,EAAE,KAAKa,aAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,CADF,EAIE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAC,MAAxB;AAA+B,QAAA,OAAO,EAAC,cAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CAnBF,EAyBE,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAEb,IAArB;AAA2B,QAAA,EAAE,EAAC,OAA9B;AAAsC,QAAA,OAAO,EAAE,KAAKa,aAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,CADF,EAIE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAC,MAAxB;AAA+B,QAAA,OAAO,EAAC,eAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CAzBF,EA+BE,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAEb,IAArB;AAA2B,QAAA,EAAE,EAAC,UAA9B;AAAyC,QAAA,OAAO,EAAE,KAAKa,aAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADF,EAIE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAC,MAAxB;AAA+B,QAAA,OAAO,EAAC,SAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CA/BF,EAqCE,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAEb,IAArB;AAA2B,QAAA,EAAE,EAAC,UAA9B;AAAyC,QAAA,OAAO,EAAE,KAAKa,aAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,CADF,EAIE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAC,MAAxB;AAA+B,QAAA,OAAO,EAAC,YAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CArCF,EAiDE,oBAAC,QAAD;AACE,QAAA,OAAO,EAAE,mBAAM;AACb,UAAA,MAAI,CAACC,MAAL;;AACA,UAAA,MAAI,CAACD,aAAL;AACD,SAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAME,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,CANF,EASE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAC,MAAxB;AAA+B,QAAA,OAAO,EAAC,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,CAjDF,CADD,GA+DC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAEb,IAArB;AAA2B,QAAA,EAAE,EAAC,GAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,EAIE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAC,MAAxB;AAA+B,QAAA,OAAO,EAAC,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CADA,EAOA,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAEA,IAArB;AAA2B,QAAA,EAAE,EAAC,WAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CADF,EAIE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAC,MAAxB;AAA+B,QAAA,OAAO,EAAC,UAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CAPA,CA/EJ,CAvBF,CADF;AAyHD;;;;EArLoBZ,S;;AAwLvB,SAAS4C,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAOlC,kBAAkB,CACvB;AACEe,IAAAA,MAAM,EAAEhB,WAAW,CAACoC;AADtB,GADuB,EAIvBD,QAJuB,CAAzB;AAMD;;AAED,SAASE,eAAT,OAAmC;AAAA,MAARC,IAAQ,QAARA,IAAQ;AACjC,SAAO;AACL9B,IAAAA,IAAI,EAAE8B,IAAI,CAAC9B;AADN,GAAP;AAGD;;AAED,eAAeT,OAAO,CACpBsC,eADoB,EAEpBH,kBAFoB,CAAP,CAGb7B,QAHa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Avatar, Button, Icon, ListItemIcon, ListItemText, Popover, MenuItem, Typography } from '@material-ui/core';\nimport { connect } from 'react-redux';\nimport * as authActions from 'app/auth/store/actions';\nimport { bindActionCreators } from 'redux';\nimport { Link } from 'react-router-dom';\nimport history from 'history.js';\nimport * as jwt_decode from \"jwt-decode\";\n\nclass UserMenu extends Component {\n  state = {\n    userMenu: null,\n    user: { 'role': 'guest',\n            'data': {\n              displayName: '',\n              photoURL: '',\n            }\n          }\n  };\n\n  componentDidMount() {\n        \n    var token = localStorage.getItem('token');\n    console.log(token);\n\n    var photoURL = \"\";\n    var username = \"\";\n    \n    if(token != null && token != ''){\n      var decoded = jwt_decode(token);\n      console.log(decoded);    \n      username = decoded.user.username;\n      \n      if(decoded.user.pic != null){\n          photoURL = decoded.user.pic;\n      }\n      var user = { 'role': 'guest',\n        'data': {\n          'displayName': username,\n          'photoURL': photoURL\n        }\n      } \n      this.setState({ user: user});\n    }else{\n      history.push({\n          pathname: '/'\n      });\n    }\n  }\n\n  userMenuClick = event => {\n    this.setState({ userMenu: event.currentTarget });\n  };\n\n  userMenuClose = () => {\n    this.setState({ userMenu: null });\n  };\n\n  logout = () => {\n    localStorage.removeItem('token');\n    history.push({\n      pathname: '/'\n    });\n  };\n\n  render() {\n    // const { user, logout } = this.props;\n    const { user, userMenu } = this.state;\n\n    return (\n      <React.Fragment>\n        <Button className=\"h-64\" onClick={this.userMenuClick}>\n          {user.data.photoURL ? (\n            <Avatar className=\"\" alt=\"user photo\" src={user.data.photoURL} />\n          ) : (\n            <Avatar className=\"\">{user.data.displayName}</Avatar>\n          )}\n\n          {/* <div className=\"hidden md:flex flex-col ml-12 items-start\"> */}\n          <div className=\"md:flex flex-col ml-12 items-start\">\n            <Typography component=\"span\" className=\"normal-case font-600 flex\">\n              {user.data.displayName}\n            </Typography>\n            <Typography className=\"text-11 capitalize\" color=\"textSecondary\">\n              {user.role}\n            </Typography>\n          </div>\n\n          <Icon className=\"text-16 ml-12 hidden sm:flex\" variant=\"action\">\n            keyboard_arrow_down\n          </Icon>\n        </Button>\n\n        <Popover\n          open={Boolean(userMenu)}\n          anchorEl={userMenu}\n          onClose={this.userMenuClose}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'center'\n          }}\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'center'\n          }}\n          classes={{\n            paper: 'py-8'\n          }}\n        >\n          {user.role === 'guest' ? (\n            <React.Fragment>\n              <MenuItem component={Link} to=\"/activity\" onClick={this.userMenuClose}>\n                <ListItemIcon>\n                  <Icon>whatshot</Icon>\n                </ListItemIcon>\n                <ListItemText className=\"pl-0\" primary=\"Home\" />\n              </MenuItem>\n              <MenuItem component={Link} to=\"/songs\" onClick={this.userMenuClose}>\n                <ListItemIcon>\n                  <Icon>alarm</Icon>\n                </ListItemIcon>\n                <ListItemText className=\"pl-0\" primary=\"Songs\" />\n              </MenuItem>\n              <MenuItem component={Link} to=\"/calendar\" onClick={this.userMenuClose}>\n                <ListItemIcon>\n                  <Icon>today</Icon>\n                </ListItemIcon>\n                <ListItemText className=\"pl-0\" primary=\"Calendar\" />\n              </MenuItem>\n              <MenuItem component={Link} to=\"/team_member/list\" onClick={this.userMenuClose}>\n                <ListItemIcon>\n                  <Icon>account_box</Icon>\n                </ListItemIcon>\n                <ListItemText className=\"pl-0\" primary=\"Team members\" />\n              </MenuItem>\n              <MenuItem component={Link} to=\"/team\" onClick={this.userMenuClose}>\n                <ListItemIcon>\n                  <Icon>account_box</Icon>\n                </ListItemIcon>\n                <ListItemText className=\"pl-0\" primary=\"List Of Teams\" />\n              </MenuItem>\n              <MenuItem component={Link} to=\"/pricing\" onClick={this.userMenuClose}>\n                <ListItemIcon>\n                  <Icon>attach_money</Icon>\n                </ListItemIcon>\n                <ListItemText className=\"pl-0\" primary=\"Pricing\" />\n              </MenuItem>\n              <MenuItem component={Link} to=\"/profile\" onClick={this.userMenuClose}>\n                <ListItemIcon>\n                  <Icon>account_circle</Icon>\n                </ListItemIcon>\n                <ListItemText className=\"pl-0\" primary=\"My Profile\" />\n              </MenuItem>\n              {/* <MenuItem component={Link} to=\"/apps/mail\" onClick={this.userMenuClose}>\n                <ListItemIcon>\n                  <Icon>mail</Icon>\n                </ListItemIcon>\n                <ListItemText className=\"pl-0\" primary=\"Inbox\" />\n              </MenuItem> */}\n              <MenuItem\n                onClick={() => {\n                  this.logout();\n                  this.userMenuClose();\n                }}\n              >\n                <ListItemIcon>\n                  <Icon>exit_to_app</Icon>\n                </ListItemIcon>\n                <ListItemText className=\"pl-0\" primary=\"Logout\" />\n              </MenuItem>\n            </React.Fragment>          \n          ) : (\n            <React.Fragment>\n            <MenuItem component={Link} to=\"/\">\n              <ListItemIcon>\n                <Icon>lock</Icon>\n              </ListItemIcon>\n              <ListItemText className=\"pl-0\" primary=\"Login\" />\n            </MenuItem>\n            <MenuItem component={Link} to=\"/register\">\n              <ListItemIcon>\n                <Icon>person_add</Icon>\n              </ListItemIcon>\n              <ListItemText className=\"pl-0\" primary=\"Register\" />\n            </MenuItem>\n          </React.Fragment>\n            )}\n        </Popover>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      logout: authActions.logoutUser\n    },\n    dispatch\n  );\n}\n\nfunction mapStateToProps({ auth }) {\n  return {\n    user: auth.user\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(UserMenu);\n"]},"metadata":{},"sourceType":"module"}